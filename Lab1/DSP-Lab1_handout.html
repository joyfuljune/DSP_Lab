<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 1 - åˆ©ç”¨FFTè®¡ç®—é¢‘è°±åŠç»“æœåˆ†æ</title>
    
    <!-- MathJax for mathematical formulas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$','$'], ['\\(','\\)']],
                displayMath: [['$$','$$'], ['\\[','\\]']],
                processEscapes: true
            },
            CommonHTML: { scale: 110 },
            "HTML-CSS": { scale: 110 }
        });
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'SimSun', Arial, sans-serif;
            line-height: 1.8;
            color: #2c3e50;
            background: linear-gradient(135deg, #608de0 0%, #7dadff 50%, #5ca353 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.25);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #2d57a4 0%, #608de0 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
            border-bottom: 5px solid #7dadff;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: bold;
        }

        header .subtitle {
            font-size: 1.1em;
            opacity: 0.95;
            margin-top: 10px;
        }

        header .institution {
            font-size: 0.95em;
            margin-top: 15px;
            opacity: 0.9;
            border-top: 2px solid rgba(255,255,255,0.3);
            padding-top: 15px;
        }

        nav {
            background: #f5f7fa;
            padding: 20px 40px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            border-bottom: 3px solid #7dadff;
        }

        nav a {
            color: #2d57a4;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            transition: all 0.3s;
            font-size: 0.95em;
            font-weight: 500;
            background: white;
            border: 2px solid #7dadff;
        }

        nav a:hover {
            background: #7dadff;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(125, 173, 255, 0.4);
        }

        .content {
            padding: 50px;
        }

        section {
            margin-bottom: 60px;
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #2d57a4;
            font-size: 2em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid #7dadff;
            font-weight: bold;
        }

        h3 {
            color: #608de0;
            font-size: 1.6em;
            margin: 30px 0 20px 0;
            font-weight: bold;
        }

        h4 {
            color: #2d57a4;
            font-size: 1.3em;
            margin: 25px 0 15px 0;
            font-weight: 600;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
            line-height: 1.9;
        }

        .formula-box {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-left: 5px solid #608de0;
            padding: 18px 25px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .formula-box p {
            margin-bottom: 8px;
            color: #555;
        }

        .note-box {
            background: linear-gradient(135deg, #fff8e1 0%, #fffbf0 100%);
            border-left: 5px solid #D46A6A;
            padding: 18px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .tip-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%);
            border-left: 5px solid #5ca353;
            padding: 18px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .warning-box {
            background: linear-gradient(135deg, #ffebee 0%, #fff5f7 100%);
            border-left: 5px solid #912d32;
            padding: 18px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        /* VS Code Dark+ é£æ ¼ä»£ç å— */
        .code-block {
            background: #2b2b2b;
            color: #d4d4d4;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            overflow-x: auto;
            font-family: 'Cambria', 'Consolas', 'Monaco', monospace;
            line-height: 1.7;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            border: 2px solid #608de0;
        }

        .code-block::before {
            content: 'MATLAB';
            position: absolute;
            top: 8px;
            right: 15px;
            color: #7dadff;
            font-size: 0.85em;
            font-weight: bold;
            font-family: Arial, sans-serif;
        }

        .code-line {
            display: block;
            font-family: 'Cambria', monospace;
            font-size: 14px;
        }

        .code-comment {
            color: #6a9955;
            font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
            font-weight: normal;
            font-size: 14px;
        }

        .code-keyword {
            color: #569cd6;
            font-weight: normal;
            font-size: 14px;
        }

        .code-function {
            color: #dcdcaa;
            font-size: 14px;
        }

        .code-string {
            color: #ce9178;
            font-size: 14px;
        }

        .code-number {
            color: #b5cea8;
            font-size: 14px;
        }

        .exercise-box {
            background: linear-gradient(135deg, #f0f7ff 0%, #f5f9ff 100%);
            border: 3px solid #7dadff;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 3px 15px rgba(125, 173, 255, 0.2);
        }

        .exercise-box h3 {
            color: #2d57a4;
            margin-top: 0;
            margin-bottom: 25px;
        }

        .exercise-box h4 {
            color: #608de0;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        .question-item {
            margin: 20px 0;
            padding-left: 15px;
        }

        .question-number {
            display: inline-block;
            background: #608de0;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-weight: bold;
            margin-right: 8px;
            font-size: 0.9em;
            min-width: 30px;
            text-align: center;
        }

        .interactive-demo {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border: 3px dashed #5ca353;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        .canvas-container {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            box-shadow: 0 3px 12px rgba(0,0,0,0.1);
            border: 2px solid #7dadff;
        }

        canvas {
            max-width: 100%;
            height: auto;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }

        .control-panel {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        label {
            font-weight: bold;
            color: #2d57a4;
            font-size: 0.95em;
        }

        input[type="range"] {
            width: 200px;
            accent-color: #608de0;
        }

        input[type="number"] {
            width: 90px;
            padding: 8px;
            border: 2px solid #7dadff;
            border-radius: 5px;
            font-family: 'Cambria', monospace;
        }

        select {
            padding: 8px 12px;
            border: 2px solid #7dadff;
            border-radius: 5px;
            background: white;
            color: #2d57a4;
            font-size: 0.95em;
        }

        button {
            background: linear-gradient(135deg, #608de0 0%, #7dadff 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(96, 141, 224, 0.3);
        }

        button:hover {
            background: linear-gradient(135deg, #2d57a4 0%, #608de0 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(96, 141, 224, 0.5);
        }

        button:active {
            transform: translateY(0);
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
            line-height: 1.8;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border: 1px solid #e0e0e0;
        }

        th {
            background: linear-gradient(135deg, #608de0 0%, #7dadff 100%);
            color: white;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background: #f8f9fa;
        }

        tr:hover {
            background: #e8f5ff;
        }

        .image-result {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #fafafa;
            border-radius: 10px;
            border: 2px solid #7dadff;
        }

        .image-result img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .image-result figcaption {
            margin-top: 15px;
            color: #666;
            font-style: italic;
            font-size: 0.95em;
        }

        footer {
            background: linear-gradient(135deg, #2d57a4 0%, #113a85 100%);
            color: white;
            text-align: center;
            padding: 30px;
            font-size: 0.95em;
        }

        footer p {
            margin-bottom: 8px;
        }

        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-right: 10px;
        }

        .badge-theory {
            background: #608de0;
            color: white;
        }

        .badge-practice {
            background: #5ca353;
            color: white;
        }

        strong {
            color: #2d57a4;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .content {
                padding: 30px 20px;
            }

            header h1 {
                font-size: 1.8em;
            }

            h2 {
                font-size: 1.6em;
            }

            .control-panel {
                flex-direction: column;
            }

            input[type="range"] {
                width: 100%;
            }
        }

        .mjx-chtml {
            font-size: 115% !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>å®éªŒä¸€ - åˆ©ç”¨FFTè®¡ç®—é¢‘è°±åŠç»“æœåˆ†æ</h1>
            <div class="subtitle">æ•°å­—ä¿¡å·å¤„ç† | é¢‘åŸŸåˆ†æå®éªŒ</div>
            <div class="institution">å—äº¬å·¥ä¸šå¤§å­¦æµ¦æ±Ÿå­¦é™¢ | è®¡ç®—æœºä¸é€šä¿¡å·¥ç¨‹å­¦é™¢ | é€šä¿¡å·¥ç¨‹ä¸“ä¸š | DSPè¯¾ç¨‹å®éªŒ</div>
        </header>

        <nav>
            <a href="#objective">å®éªŒç›®çš„</a>
            <a href="#theory">ç†è®ºåŸºç¡€</a>
            <a href="#demo">äº¤äº’æ¼”ç¤º</a>
            <a href="#example">ç¤ºä¾‹è®²è§£</a>
            <a href="#exercise1">ç»ƒä¹ ä¸€</a>
            <a href="#exercise2">ç»ƒä¹ äºŒ</a>
            <a href="#exercise3">ç»ƒä¹ ä¸‰</a>
            <a href="#exercise4">ç»ƒä¹ å››</a>
        </nav>

        <div class="content">
            <!-- å®éªŒç›®çš„ -->
            <section id="objective">
                <h2><span class="badge badge-theory">ç†è®º</span>å®éªŒç›®çš„</h2>
                <p>åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨MATLABå¯¹ç¦»æ•£æ—¶é—´ä¿¡å·è¿›è¡Œé¢‘åŸŸåˆ†æã€‚æœ¬å®éªŒçš„ä¸»è¦ç›®çš„æ˜¯ï¼š</p>
                <ul>
                    <li>ç†è§£å¹¶æŒæ¡<strong>ç¦»æ•£æ—¶é—´å‚…é‡Œå¶å˜æ¢ï¼ˆDTFTï¼‰</strong>çš„åŸºæœ¬æ¦‚å¿µå’Œæ€§è´¨</li>
                    <li>å­¦ä¹ <strong>ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆDFTï¼‰</strong>ä¸DTFTä¹‹é—´çš„å…³ç³»</li>
                    <li>åˆ©ç”¨<strong>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFFTï¼‰</strong>è®¡ç®—ç¦»æ•£æ—¶é—´åºåˆ—çš„é¢‘è°±</li>
                    <li>é€šè¿‡ç»“æœåˆ†æç†è§£å›ºå®šé¢‘ç‡å’Œæ—¶å˜é¢‘ç‡ï¼ˆå¦‚è¯­éŸ³ä¿¡å·ï¼‰çš„æ•°å­—ä¿¡å·é¢‘è°±ç‰¹ç‚¹</li>
                    <li>ç†è§£çº¿æ€§å·ç§¯å’Œå¾ªç¯å·ç§¯ä¹‹é—´çš„å…³ç³»ï¼ŒæŒæ¡FFTå¿«é€Ÿè®¡ç®—å·ç§¯çš„æ–¹æ³•</li>
                    <li>åŸ¹å…»é¢‘åŸŸåˆ†æèƒ½åŠ›ï¼Œç†è§£æ—¶åŸŸä¸é¢‘åŸŸçš„å¯¹åº”å…³ç³»</li>
                </ul>

                <div class="tip-box">
                    <strong>ğŸ’¡ å­¦ä¹ æç¤º</strong>
                    <p>é¢‘åŸŸåˆ†ææ˜¯æ•°å­—ä¿¡å·å¤„ç†çš„æ ¸å¿ƒå†…å®¹ä¹‹ä¸€ã€‚é€šè¿‡å°†æ—¶åŸŸä¿¡å·å˜æ¢åˆ°é¢‘åŸŸï¼Œæˆ‘ä»¬å¯ä»¥æ›´ç›´è§‚åœ°è§‚å¯Ÿä¿¡å·çš„é¢‘ç‡æˆåˆ†ï¼Œè¿™å¯¹äºä¿¡å·åˆ†æã€æ»¤æ³¢è®¾è®¡ã€é€šä¿¡ç³»ç»Ÿç­‰åº”ç”¨è‡³å…³é‡è¦ã€‚</p>
                </div>
            </section>

            <!-- ç†è®ºåŸºç¡€ -->
            <section id="theory">
                <h2><span class="badge badge-theory">ç†è®º</span>ç†è®ºåŸºç¡€</h2>

                <h3>1. ç¦»æ•£æ—¶é—´å‚…é‡Œå¶å˜æ¢ï¼ˆDTFTï¼‰</h3>
                <p>å¯¹äºç¦»æ•£æ—¶é—´ä¿¡å·ï¼ˆDTï¼‰æ±‚å…¶é¢‘åŸŸè¡¨è¾¾ï¼Œä½¿ç”¨DTFTï¼Œä¹Ÿå°±æ˜¯ç¦»æ•£æ—¶é—´å‚…é‡Œå¶å˜æ¢ã€‚æ­¤æ—¶çš„ä¿¡å·æ˜¯ä¸€ä¸ªç¦»æ•£çš„éå‘¨æœŸçš„å®æ•°æˆ–å¤æ•°åºåˆ—ã€‚</p>

                <h4>DTFTåˆ†æå¼ï¼ˆæ­£å˜æ¢ï¼‰ï¼š</h4>
                <div class="formula-box">
                    <p style="text-align: center;">
                        $$X(e^{j\omega}) = \sum_{n=-\infty}^{\infty} x[n]e^{-j\omega n}$$
                    </p>
                    <p style="text-align: center; margin-top: 10px; color: #666;">å…¶ä¸­ $\omega$ ä¸ºå½’ä¸€åŒ–è§’é¢‘ç‡ï¼ˆå¼§åº¦ï¼‰</p>
                </div>

                <h4>DTFTåˆæˆå¼ï¼ˆé€†å˜æ¢ï¼‰ï¼š</h4>
                <div class="formula-box">
                    <p style="text-align: center;">
                        $$x[n] = \frac{1}{2\pi} \int_{-\pi}^{\pi} X(e^{j\omega})e^{j\omega n}d\omega$$
                    </p>
                </div>

                <div class="note-box">
                    <strong>ğŸ“Œ DTFTçš„é‡è¦ç‰¹æ€§ï¼š</strong>
                    <ol>
                        <li><strong>è¿ç»­æ€§</strong>ï¼š$X(e^{j\omega})$ æ˜¯å…³äºé¢‘ç‡ $\omega$ çš„è¿ç»­å‡½æ•°</li>
                        <li><strong>å‘¨æœŸæ€§</strong>ï¼š$X(e^{j\omega})$ æ˜¯ä»¥ $2\pi$ ä¸ºå‘¨æœŸçš„å‘¨æœŸå‡½æ•°ï¼Œå³ $X(e^{j(\omega+2\pi)}) = X(e^{j\omega})$</li>
                        <li><strong>å¯¹ç§°æ€§</strong>ï¼šè‹¥ $x[n]$ ä¸ºå®åºåˆ—ï¼Œåˆ™ $X(e^{j\omega})$ æ»¡è¶³å…±è½­å¯¹ç§°æ€§</li>
                    </ol>
                </div>

                <h4>è®¡ç®—æœºå®ç°çš„é™åˆ¶ï¼š</h4>
                <p>åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæƒ³è¦å®ç°ä¸€ä¸ªè¿ç»­çš„æ•°å€¼å˜é‡æ˜¯ä¸å¯èƒ½çš„ï¼Œæ‰€ä»¥å¯¹DTFTçš„ä»»ä½•æ•°å€¼å®ç°æœ‰ä¸¤ä¸ªè¦æ±‚ï¼š</p>
                <ol>
                    <li><strong>$x[n]$ å¿…é¡»å…·æœ‰æœ‰é™é•¿åº¦</strong>ï¼ˆåºåˆ—é•¿åº¦æœ‰é™ï¼‰</li>
                    <li><strong>$X(e^{j\omega})$ åªèƒ½åœ¨è¿ç»­é¢‘ç‡å˜é‡ $\omega$ çš„æœ‰é™æ•°é‡çš„æ ·æœ¬å¤„è®¡ç®—</strong>ï¼ˆé¢‘ç‡é‡‡æ ·ç‚¹æœ‰é™ï¼‰</li>
                </ol>
                <p>åœ¨æ»¡è¶³è¿™ä¸¤æ¡è¦æ±‚çš„å‰æä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡MATLABæ¥è®¡ç®—ä¸€ä¸ªDTåºåˆ—çš„é¢‘è°±ã€‚å®é™…ä¸Šï¼Œå¦‚æœ $x[n]$ æ˜¯æœ‰é™çš„ï¼Œ$\omega$ çš„æ•°é‡ä¹Ÿæ˜¯æœ‰é™çš„ï¼Œæˆ‘ä»¬å°±æŠŠDTFTç¦»æ•£åŒ–äº†ï¼Œè¿™å°±å¼•å‡ºäº†DFTã€‚</p>

                <h3>2. ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆDFTï¼‰</h3>
                <p>ç†è®ºä¸ŠDTFTåˆ†ææ–¹ç¨‹çš„è®¡ç®—æ˜¯ä»è´Ÿæ— ç©·åˆ°æ­£æ— ç©·è¿›è¡Œæ±‚å’Œï¼Œåœ¨è®¡ç®—æœºä¸­æ˜¯ä¸å¯å®ç°çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨DFTï¼Œä¹Ÿå°±æ˜¯ç¦»æ•£å‚…é‡Œå¶å˜æ¢æ¥è¿›è¡Œè°±åˆ†æã€‚</p>

                <h4>DFTä¸DTFTçš„å…³ç³»ï¼š</h4>
                <p>æœ‰é™é•¿åºåˆ—çš„DFTç»“æœåŒ…å«äº†<strong>Nä¸ªç¦»æ•£é¢‘ç‡ç‚¹å¤„çš„DTFTç»“æœ</strong>ï¼Œè¿™äº›ç¦»æ•£é¢‘ç‡ç‚¹ç­‰é—´éš”åœ°åˆ†å¸ƒåœ¨åŒºé—´ $[0, 2\pi)$ å†…ã€‚å¦‚æœç¦»æ•£é¢‘ç‡ç‚¹æ•°é‡è¶³å¤Ÿå¤šï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡DFTè¿‘ä¼¼å¾—åˆ°DTFTçš„ç»“æœã€‚</p>

                <h4>é¢‘ç‡é‡‡æ ·ï¼š</h4>
                <p>ä¸ºäº†è®¡ç®—æ•ˆç‡ï¼Œæˆ‘ä»¬å°†è¿ç»­é¢‘ç‡å˜é‡ $\omega$ æ‰€åœ¨çš„ $0$ åˆ° $2\pi$ çš„å‘¨æœŸèŒƒå›´å†…ï¼Œç­‰åˆ† <strong>N</strong> ä¸ªç‚¹ï¼š</p>
                <div class="formula-box">
                    <p style="text-align: center;">
                        $$\omega_k = \frac{2\pi k}{N}, \quad k = 0, 1, 2, \ldots, N-1$$
                    </p>
                </div>

                <h4>DFTæ­£å˜æ¢ï¼š</h4>
                <div class="formula-box">
                    <p style="text-align: center;">
                        $$X[k] = \sum_{n=0}^{N-1} x[n]e^{-j\frac{2\pi kn}{N}}, \quad k = 0, 1, \ldots, N-1$$
                    </p>
                    <p style="text-align: center; margin-top: 10px; color: #666;">å…¶ä¸­ $k$ ä¸ºé¢‘ç‡ç´¢å¼•ï¼Œå¯¹åº”é¢‘ç‡ $\omega_k = 2\pi k/N$</p>
                </div>

                <h4>é€†ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆIDFTï¼‰ï¼š</h4>
                <div class="formula-box">
                    <p style="text-align: center;">
                        $$x[n] = \frac{1}{N} \sum_{k=0}^{N-1} X[k]e^{j\frac{2\pi kn}{N}}, \quad n = 0, 1, \ldots, N-1$$
                    </p>
                </div>

                <div class="tip-box">
                    <strong>ğŸ’¡ ç†è§£è¦ç‚¹</strong>
                    <p><strong>é¢‘ç‡åˆ†è¾¨ç‡</strong>ï¼šDFTçš„é¢‘ç‡åˆ†è¾¨ç‡ä¸º $\Delta f = F_s/N$ï¼Œå…¶ä¸­ $F_s$ ä¸ºé‡‡æ ·é¢‘ç‡ã€‚å¢åŠ  $N$ å¯ä»¥æé«˜é¢‘ç‡åˆ†è¾¨ç‡ï¼Œä½¿é¢‘è°±æ›´åŠ ç²¾ç»†ã€‚</p>
                    <p><strong>é›¶å¡«å……ï¼ˆZero Paddingï¼‰</strong>ï¼šåœ¨ä¿¡å·æœ«å°¾è¡¥é›¶å¯ä»¥å¢åŠ DFTçš„è®¡ç®—ç‚¹æ•° $N$ï¼Œä»è€Œæé«˜é¢‘ç‡åˆ†è¾¨ç‡ï¼Œä½¿DFTç»“æœæ›´æ¥è¿‘çœŸå®çš„DTFTã€‚ä½†éœ€è¦æ³¨æ„ï¼Œé›¶å¡«å……å¹¶ä¸å¢åŠ æ–°çš„ä¿¡æ¯ï¼Œåªæ˜¯å¯¹DTFTè¿›è¡Œæ›´å¯†é›†çš„é‡‡æ ·ã€‚</p>
                </div>

                <h3>3. å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFFTï¼‰</h3>
                <p>FFTï¼ˆFast Fourier Transformï¼‰æ˜¯è®¡ç®—DFTçš„ä¸€ç§é«˜æ•ˆç®—æ³•ï¼Œå®ƒå°†DFTçš„è®¡ç®—å¤æ‚åº¦ä» $O(N^2)$ é™ä½åˆ° $O(N \log N)$ã€‚</p>

                <h4>MATLABä¸­çš„FFTå‡½æ•°ï¼š</h4>
                <div class="code-block">
                    <code>
<span class="code-line"><span class="code-comment">% å¦‚æœ x æ˜¯åŒ…å« x[n] çš„å‘é‡ï¼Œ0 â‰¤ n â‰¤ M-1</span></span>
<span class="code-line">X = <span class="code-keyword">fft</span>(x, N);  <span class="code-comment">% è®¡ç®—Nç‚¹DFT</span></span>
<span class="code-line"><span class="code-comment">% è®¡ç®—xçš„DTFTçš„Nä¸ªå‡åŒ€é—´éš”çš„æ ·æœ¬ï¼Œå¹¶å­˜å‚¨åœ¨å‘é‡Xä¸­</span></span>
                    </code>
                </div>

                <h4>é‡è¦è¯´æ˜ï¼š</h4>
                <ul>
                    <li><strong>é›¶å¡«å……</strong>ï¼šå¦‚æœ $N > M$ï¼ˆåºåˆ—é•¿åº¦ï¼‰ï¼Œfft ä¼šè‡ªåŠ¨åœ¨åºåˆ—æœ«å°¾è¡¥é›¶</li>
                    <li><strong>æˆªæ–­</strong>ï¼šå¦‚æœ $N < M$ï¼Œfft ä¼šæˆªå–å‰ $N$ ä¸ªå…ƒç´ è¿›è¡Œè®¡ç®—</li>
                    <li><strong>é¢‘ç‡èŒƒå›´</strong>ï¼šfft å‡½æ•°è®¡ç®—åŒºé—´ $[0, 2\pi)$ ä¸­çš„DFTã€‚è¦åœ¨åŒºé—´ $[-\pi, \pi]$ ä¸­è®¡ç®—ï¼Œå¯ä»¥ä½¿ç”¨ <code>fftshift</code> å‡½æ•°è¿›è¡Œç§»ä½</li>
                    <li><strong>é€†å˜æ¢</strong>ï¼š<code>ifft</code> å‡½æ•°å¯ç”¨äºé«˜æ•ˆåœ°è®¡ç®—IDFT</li>
                </ul>

                <div class="note-box">
                    <strong>ğŸ“Œ FFTç®—æ³•ä¼˜åŠ¿</strong>
                    <p>å¯¹äº $N=1024$ ç‚¹çš„DFTï¼Œç›´æ¥è®¡ç®—éœ€è¦çº¦100ä¸‡æ¬¡å¤æ•°ä¹˜æ³•ï¼Œè€ŒFFTåªéœ€è¦çº¦1ä¸‡æ¬¡ï¼Œè®¡ç®—æ•ˆç‡æé«˜çº¦100å€ï¼è¿™ä½¿å¾—å®æ—¶ä¿¡å·å¤„ç†æˆä¸ºå¯èƒ½ã€‚</p>
                </div>

                <h3>4. å·ç§¯å®šç†</h3>
                <p>å·ç§¯å®šç†æ˜¯è¿æ¥æ—¶åŸŸå’Œé¢‘åŸŸçš„é‡è¦æ¡¥æ¢ï¼Œåœ¨ä¿¡å·å¤„ç†ä¸­æœ‰å¹¿æ³›åº”ç”¨ã€‚</p>

                <h4>æ—¶åŸŸå·ç§¯ âŸ· é¢‘åŸŸç›¸ä¹˜ï¼š</h4>
                <div class="formula-box">
                    <p style="text-align: center;">
                        $$y[n] = x[n] * h[n] \quad \Longleftrightarrow \quad Y[k] = X[k] \cdot H[k]$$
                    </p>
                    <p style="text-align: center; margin-top: 10px; color: #666;">å…¶ä¸­ $*$ è¡¨ç¤ºå·ç§¯ï¼Œ$\cdot$ è¡¨ç¤ºç‚¹ä¹˜</p>
                </div>

                <h4>çº¿æ€§å·ç§¯ vs å¾ªç¯å·ç§¯ï¼š</h4>
                <table>
                    <tr>
                        <th>ç‰¹æ€§</th>
                        <th>çº¿æ€§å·ç§¯</th>
                        <th>å¾ªç¯å·ç§¯</th>
                    </tr>
                    <tr>
                        <td>å®šä¹‰</td>
                        <td>ä¸¤ä¸ªæœ‰é™é•¿åºåˆ—çš„å·ç§¯</td>
                        <td>DFTåŸŸçš„ç‚¹ä¹˜å¯¹åº”çš„æ—¶åŸŸæ“ä½œ</td>
                    </tr>
                    <tr>
                        <td>ç»“æœé•¿åº¦</td>
                        <td>$L_1 + L_2 - 1$</td>
                        <td>$\max(L_1, L_2)$</td>
                    </tr>
                    <tr>
                        <td>MATLABå‡½æ•°</td>
                        <td>conv(x, h)</td>
                        <td>ifft(fft(x) .* fft(h))</td>
                    </tr>
                    <tr>
                        <td>å…³ç³»</td>
                        <td colspan="2">è¡¥é›¶åˆ° $L_1 + L_2 - 1$ åï¼Œå¾ªç¯å·ç§¯ç­‰äºçº¿æ€§å·ç§¯</td>
                    </tr>
                </table>

                <div class="warning-box">
                    <strong>âš ï¸ æ³¨æ„</strong>
                    <p>ç›´æ¥ä½¿ç”¨FFTè®¡ç®—çš„æ˜¯å¾ªç¯å·ç§¯ï¼Œè€Œéçº¿æ€§å·ç§¯ã€‚è¦ä½¿å¾ªç¯å·ç§¯ç­‰äºçº¿æ€§å·ç§¯ï¼Œå¿…é¡»å¯¹ä¸¤ä¸ªåºåˆ—éƒ½è¡¥é›¶è‡³å°‘åˆ°é•¿åº¦ $L_1 + L_2 - 1$ã€‚</p>
                </div>
            </section>

            <!-- äº¤äº’å¼æ¼”ç¤º -->
            <section id="demo">
                <h2><span class="badge badge-practice">å®è·µ</span>äº¤äº’å¼ä¿¡å·é¢‘è°±åˆ†æ</h2>
                
                <div class="interactive-demo">
                    <h3>å®æ—¶ä¿¡å·ç”Ÿæˆå™¨ä¸é¢‘è°±åˆ†æå™¨</h3>
                    <p>è°ƒæ•´å‚æ•°è§‚å¯Ÿæ—¶åŸŸä¿¡å·ä¸å…¶é¢‘è°±çš„å…³ç³»</p>
                    
                    <div class="control-panel">
                        <div class="control-group">
                            <label>é¢‘ç‡ (Hz): <span id="freqValue">5</span></label>
                            <input type="range" id="frequency" min="1" max="20" value="5" step="0.5">
                        </div>
                        <div class="control-group">
                            <label>å¹…åº¦: <span id="ampValue">1.0</span></label>
                            <input type="range" id="amplitude" min="0.1" max="2" value="1" step="0.1">
                        </div>
                        <div class="control-group">
                            <label>DFTç‚¹æ•° N:</label>
                            <input type="number" id="dftPoints" min="8" max="1024" value="64" step="8">
                        </div>
                        <div class="control-group">
                            <label>ä¿¡å·ç±»å‹:</label>
                            <select id="signalType">
                                <option value="sine">æ­£å¼¦æ³¢</option>
                                <option value="cosine">ä½™å¼¦æ³¢</option>
                                <option value="square">æ–¹æ³¢</option>
                                <option value="sawtooth">é”¯é½¿æ³¢</option>
                                <option value="exponential">æŒ‡æ•°è¡°å‡</option>
                            </select>
                        </div>
                        <button id="updateBtn">æ›´æ–°æ˜¾ç¤º</button>
                    </div>

                    <div class="canvas-container">
                        <canvas id="signalCanvas" width="800" height="300"></canvas>
                    </div>
                    <div class="canvas-container">
                        <canvas id="spectrumCanvas" width="800" height="300"></canvas>
                    </div>
                </div>

                <div class="tip-box">
                    <strong>ğŸ’¡ è§‚å¯Ÿè¦ç‚¹</strong>
                    <ul>
                        <li>æ­£å¼¦/ä½™å¼¦æ³¢çš„é¢‘è°±æ˜¯å•ä¸€é¢‘ç‡åˆ†é‡ï¼ˆå†²æ¿€ï¼‰</li>
                        <li>æ–¹æ³¢åŒ…å«åŸºé¢‘å’Œå¥‡æ¬¡è°æ³¢åˆ†é‡</li>
                        <li>å¢åŠ DFTç‚¹æ•° $N$ å¯ä»¥æé«˜é¢‘ç‡åˆ†è¾¨ç‡ï¼Œä½¿é¢‘è°±æ›´å¹³æ»‘</li>
                        <li>æ³¨æ„è§‚å¯Ÿé¢‘è°±çš„å¯¹ç§°æ€§ï¼ˆå®ä¿¡å·çš„é¢‘è°±å…±è½­å¯¹ç§°ï¼‰</li>
                    </ul>
                </div>
            </section>

            <!-- ç¤ºä¾‹è®²è§£ -->
            <section id="example">
                <h2><span class="badge badge-practice">å®è·µ</span>ç¤ºä¾‹è®²è§£</h2>

                <h3>ä¾‹é¢˜ï¼šå•ä½è„‰å†²ä¿¡å·çš„é¢‘è°±åˆ†æ</h3>
                <p><strong>é—®é¢˜</strong>ï¼šæœ‰ä¿¡å· $x[n] = \delta[n]$ï¼ˆå•ä½è„‰å†²ä¿¡å·ï¼‰ï¼Œå›ç­”ä»¥ä¸‹é—®é¢˜ã€‚</p>

                <div class="exercise-box">
                    <h4>é—®é¢˜ 1ï¼šæ‰‹åŠ¨è®¡ç®— $x[n]$ æ‰€å¯¹åº”çš„DTFT</h4>
                    <p><strong>è§£ï¼š</strong></p>
                    <div class="formula-box">
                        <p>æ ¹æ®DTFTå®šä¹‰ï¼š</p>
                        <p style="text-align: center;">
                            $$X(e^{j\omega}) = \sum_{n=-\infty}^{\infty} x[n]e^{-j\omega n}$$
                        </p>
                        <p style="margin-top: 12px;">å¯¹äºå•ä½è„‰å†² $\delta[n]$ï¼š</p>
                        <p style="text-align: center;">
                            $$X(e^{j\omega}) = \sum_{n=-\infty}^{\infty} \delta[n]e^{-j\omega n} = e^{-j\omega \cdot 0} = 1$$
                        </p>
                        <p style="margin-top: 12px;"><strong>ç»“è®º</strong>ï¼šå•ä½è„‰å†²ä¿¡å·çš„DTFTæ’ç­‰äº1ï¼ˆå¹…åº¦ä¸º1ï¼Œç›¸ä½ä¸º0ï¼‰ï¼Œè¿™æ„å‘³ç€å®ƒåŒ…å«æ‰€æœ‰é¢‘ç‡æˆåˆ†ï¼Œä¸”å„é¢‘ç‡åˆ†é‡å¹…åº¦ç›¸ç­‰ã€‚</p>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>é—®é¢˜ 2ï¼šä½¿ç”¨fftè®¡ç®—å‡º8ç‚¹DFTç»“æœå¹¶ç”»å›¾æ˜¾ç¤º</h4>
                    <div class="code-block">
                        <code>
<span class="code-line">N = <span class="code-number">8</span>;                    <span class="code-comment">% å‡è®¾è®¡ç®—8ç‚¹DFT</span></span>
<span class="code-line">n = <span class="code-number">0</span>:(N-<span class="code-number">1</span>);              <span class="code-comment">% æ—¶é—´ç´¢å¼•ï¼š0åˆ°7</span></span>
<span class="code-line">x = [<span class="code-number">1</span>, <span class="code-keyword">zeros</span>(<span class="code-number">1</span>, <span class="code-number">7</span>)];      <span class="code-comment">% å•ä½è„‰å†²ä¿¡å· Î´[n]</span></span>
<span class="code-line">k = <span class="code-number">0</span>:(N-<span class="code-number">1</span>);              <span class="code-comment">% é¢‘ç‡ç´¢å¼•ï¼š0åˆ°7</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="code-comment">% è®¡ç®—8ç‚¹DFT</span></span>
<span class="code-line">Xdft_8 = <span class="code-keyword">fft</span>(x, N);</span>
<span class="code-line"></span>
<span class="code-line"><span class="code-comment">% è®¡ç®—å¹…åº¦è°±å’Œç›¸ä½è°±</span></span>
<span class="code-line">mag_Xdft_8 = <span class="code-keyword">abs</span>(Xdft_8);      <span class="code-comment">% å¹…åº¦è°±</span></span>
<span class="code-line">phase_Xdft_8 = <span class="code-keyword">angle</span>(Xdft_8);  <span class="code-comment">% ç›¸ä½è°±ï¼ˆå¼§åº¦ï¼‰</span></span>
<span class="code-line"></span>
<span class="code-line"><span class="code-comment">% ç»˜åˆ¶ç»“æœ</span></span>
<span class="code-line"><span class="code-keyword">figure</span>;</span>
<span class="code-line"><span class="code-keyword">subplot</span>(<span class="code-number">2</span>, <span class="code-number">1</span>, <span class="code-number">1</span>);</span>
<span class="code-line"><span class="code-keyword">stem</span>(k, mag_Xdft_8), <span class="code-keyword">grid</span> on;</span>
<span class="code-line"><span class="code-keyword">title</span>(<span class="code-string">'8ç‚¹DFTå¹…åº¦è°±'</span>);</span>
<span class="code-line"><span class="code-keyword">xlabel</span>(<span class="code-string">'é¢‘ç‡ç´¢å¼• k'</span>), <span class="code-keyword">ylabel</span>(<span class="code-string">'|X[k]|'</span>);</span>
<span class="code-line"><span class="code-keyword">xlim</span>([-<span class="code-number">0.2</span>, <span class="code-number">8.2</span>]);</span>
<span class="code-line"></span>
<span class="code-line"><span class="code-keyword">subplot</span>(<span class="code-number">2</span>, <span class="code-number">1</span>, <span class="code-number">2</span>);</span>
<span class="code-line"><span class="code-keyword">stem</span>(k, phase_Xdft_8), <span class="code-keyword">grid</span> on;</span>
<span class="code-line"><span class="code-keyword">title</span>(<span class="code-string">'8ç‚¹DFTç›¸ä½è°±'</span>);</span>
<span class="code-line"><span class="code-keyword">xlabel</span>(<span class="code-string">'é¢‘ç‡ç´¢å¼• k'</span>), <span class="code-keyword">ylabel</span>(<span class="code-string">'âˆ X[k] (å¼§åº¦)'</span>);</span>
<span class="code-line"><span class="code-keyword">xlim</span>([-<span class="code-number">0.2</span>, <span class="code-number">8.2</span>]);</span>
                        </code>
                    </div>

                    <div class="image-result">
                        <canvas id="exampleCanvas1" width="700" height="500"></canvas>
                        <figcaption><strong>å›¾1ï¼š</strong>å•ä½è„‰å†²ä¿¡å·çš„8ç‚¹DFTå¹…åº¦è°±å’Œç›¸ä½è°±ã€‚å¹…åº¦è°±åœ¨æ‰€æœ‰é¢‘ç‡ç‚¹ $k=0,1,\ldots,7$ å¤„å‡ä¸º1ï¼›ç›¸ä½è°±ä¸º0ã€‚</figcaption>
                    </div>

                    <p><strong>ç»“æœåˆ†æ</strong>ï¼š</p>
                    <ul>
                        <li>å¹…åº¦è°±åœ¨æ‰€æœ‰é¢‘ç‡ç‚¹å¤„å‡ä¸º1ï¼ŒéªŒè¯äº†ç†è®ºç»“æœ $|X(e^{j\omega})| = 1$</li>
                        <li>ç›¸ä½è°±ä¸º0ï¼Œå› ä¸º $X(e^{j\omega}) = 1$ æ˜¯å®æ•°</li>
                        <li>è¿™è¯´æ˜å•ä½è„‰å†²ä¿¡å·åŒ…å«æ‰€æœ‰é¢‘ç‡æˆåˆ†ï¼Œä¸”å„é¢‘ç‡åˆ†é‡å¹…åº¦ç›¸ç­‰</li>
                    </ul>
                </div>

                <div class="exercise-box">
                    <h4>é—®é¢˜ 3ï¼šé€šè¿‡é›¶å¡«å……æé«˜é¢‘ç‡åˆ†è¾¨ç‡</h4>
                    <p>é€‰æ‹© $N = 100, 500, 1000$ è¿›è¡Œå°è¯•ï¼Œè§‚å¯ŸDFTæ˜¯å¦æ¥è¿‘DTFTã€‚</p>
                    <div class="code-block">
                        <code>
<span class="code-line"><span class="code-comment">% åŸå§‹ä¿¡å·</span></span>
<span class="code-line">x = [<span class="code-number">1</span>, <span class="code-keyword">zeros</span>(<span class="code-number">1</span>, <span class="code-number">7</span>)];</span>
<span class="code-line"></span>
<span class="code-line"><span class="code-comment">% ä¸åŒçš„DFTç‚¹æ•°</span></span>
<span class="code-line">N_values = [<span class="code-number">8</span>, <span class="code-number">100</span>, <span class="code-number">500</span>, <span class="code-number">1000</span>];</span>
<span class="code-line"></span>
<span class="code-line"><span class="code-keyword">figure</span>;</span>
<span class="code-line"><span class="code-keyword">for</span> i = <span class="code-number">1</span>:<span class="code-keyword">length</span>(N_values)</span>
<span class="code-line">    N = N_values(i);</span>
<span class="code-line">    k = <span class="code-number">0</span>:(N-<span class="code-number">1</span>);</span>
<span class="code-line">    Xdft = <span class="code-keyword">fft</span>(x, N);</span>
<span class="code-line">    mag_Xdft = <span class="code-keyword">abs</span>(Xdft);</span>
<span class="code-line">    </span>
<span class="code-line">    <span class="code-keyword">subplot</span>(<span class="code-number">2</span>, <span class="code-number">2</span>, i);</span>
<span class="code-line">    <span class="code-keyword">if</span> N <= <span class="code-number">100</span></span>
<span class="code-line">        <span class="code-keyword">stem</span>(k, mag_Xdft), <span class="code-keyword">grid</span> on;</span>
<span class="code-line">    <span class="code-keyword">else</span></span>
<span class="code-line">        <span class="code-keyword">plot</span>(k, mag_Xdft), <span class="code-keyword">grid</span> on;  <span class="code-comment">% Nè¾ƒå¤§æ—¶ç”¨ploté¿å…ç‚¹é‡å </span></span>
<span class="code-line">    <span class="code-keyword">end</span></span>
<span class="code-line">    <span class="code-keyword">title</span>(<span class="code-keyword">sprintf</span>(<span class="code-string">'%dç‚¹DFTå¹…åº¦è°±'</span>, N));</span>
<span class="code-line">    <span class="code-keyword">xlabel</span>(<span class="code-string">'k'</span>), <span class="code-keyword">ylabel</span>(<span class="code-string">'|X[k]|'</span>);</span>
<span class="code-line"><span class="code-keyword">end</span></span>
                        </code>
                    </div>

                    <div class="image-result">
                        <canvas id="exampleCanvas2" width="700" height="500"></canvas>
                        <figcaption><strong>å›¾2ï¼š</strong>ä¸åŒDFTç‚¹æ•°ä¸‹å•ä½è„‰å†²ä¿¡å·çš„å¹…åº¦è°±ã€‚éšç€ $N$ å¢å¤§ï¼Œé¢‘ç‡åˆ†è¾¨ç‡æé«˜ï¼Œé¢‘è°±æ›´åŠ å¹³æ»‘ï¼Œé€æ¸é€¼è¿‘è¿ç»­çš„DTFTã€‚</figcaption>
                    </div>

                    <div class="note-box">
                        <strong>ğŸ“Œ è§‚å¯Ÿç»“æœ</strong>
                        <ul>
                            <li>$N=8$ æ—¶ï¼šåªæœ‰8ä¸ªç¦»æ•£é¢‘ç‡ç‚¹ï¼Œé¢‘è°±è¾ƒç²—ç³™</li>
                            <li>$N=100$ æ—¶ï¼šé¢‘ç‡ç‚¹å¢åŠ ï¼Œé¢‘è°±å˜å¾—æ›´å¹³æ»‘</li>
                            <li>$N=500, 1000$ æ—¶ï¼šé¢‘è°±éå¸¸å¹³æ»‘ï¼Œé€¼è¿‘è¿ç»­çš„DTFT</li>
                            <li>æ‰€æœ‰æƒ…å†µä¸‹å¹…åº¦å‡ä¸º1ï¼ŒéªŒè¯äº†ç†è®ºç»“æœ</li>
                        </ul>
                        <p style="margin-top: 12px;"><strong>ç»“è®º</strong>ï¼šå¢åŠ DFTç‚¹æ•°ï¼ˆé€šè¿‡é›¶å¡«å……ï¼‰å¯ä»¥æé«˜é¢‘ç‡åˆ†è¾¨ç‡ï¼Œä½¿DFTæ›´å¥½åœ°é€¼è¿‘DTFTã€‚ä½†è¦æ³¨æ„ï¼Œè¿™å¹¶ä¸å¢åŠ æ–°çš„ä¿¡æ¯ï¼Œåªæ˜¯å¯¹DTFTè¿›è¡Œæ›´å¯†é›†çš„é‡‡æ ·ã€‚</p>
                    </div>
                </div>

                <div class="tip-box">
                    <strong>ğŸ’¡ æ·±å…¥ç†è§£</strong>
                    <p><strong>æ•°å­—é¢‘ç‡ $\omega$ ä¸ DFTç´¢å¼• $k$ çš„å…³ç³»ï¼š</strong></p>
                    <p style="text-align: center;">
                        $$\omega_k = \frac{2\pi k}{N} \quad \text{ï¼ˆå½’ä¸€åŒ–è§’é¢‘ç‡ï¼Œå¼§åº¦ï¼‰}$$
                    </p>
                    <p style="margin-top: 12px;">æˆ–è€…ç”¨Hzè¡¨ç¤ºï¼ˆå‡è®¾é‡‡æ ·é¢‘ç‡ä¸º $F_s$ï¼‰ï¼š</p>
                    <p style="text-align: center;">
                        $$f_k = \frac{kF_s}{N} \quad \text{ï¼ˆå®é™…é¢‘ç‡ï¼ŒHzï¼‰}$$
                    </p>
                    <p style="margin-top: 12px;">å› æ­¤ï¼ŒDFTçš„ç¬¬ $k$ ä¸ªç‚¹å¯¹åº”çš„å½’ä¸€åŒ–é¢‘ç‡ä¸º $2\pi k/N$ å¼§åº¦ã€‚</p>
                </div>
            </section>

            <!-- ç»ƒä¹ ä¸€ -->
            <section id="exercise1">
                <h2><span class="badge badge-practice">å®è·µ</span>ç»ƒä¹ ä¸€ï¼šæŒ‡æ•°åºåˆ—çš„é¢‘è°±åˆ†æ</h2>

                <div class="exercise-box">
                    <h3>é¢˜ç›®</h3>
                    <p>è®¾æœ‰ç¦»æ•£æ—¶é—´åºåˆ— $x[n] = 0.7^n$ï¼Œ$0 \leq n \leq 7$</p>

                    <div class="question-item">
                        <p><span class="question-number">1</span> æ±‚å‡º $x[n]$ æ‰€å¯¹åº”DTFTçš„è§£æå¼ã€‚</p>
                        <p style="margin-left: 45px;"><strong>æç¤º</strong>ï¼šåˆ©ç”¨å‡ ä½•çº§æ•°æ±‚å’Œå…¬å¼ $\sum_{n=0}^{N-1} r^n = \frac{1-r^N}{1-r}$</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">2</span> æ ¹æ®ä¾‹é¢˜è®¡ç®—å‡º8ç‚¹DFTï¼ˆ$0 \leq k \leq 7$ï¼‰å¹¶ç”»å‡ºå¹…åº¦ç›¸ä½è°±ã€‚</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">3</span> æ ¹æ®ä¾‹é¢˜è®¡ç®—å‡º16ç‚¹DFTï¼ˆ$0 \leq k \leq 15$ï¼‰å¹¶ç”»å‡ºå¹…åº¦ç›¸ä½è°±ã€‚</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">4</span> æ ¹æ®ä¾‹é¢˜è®¡ç®—å‡º128ç‚¹DFTï¼ˆ$0 \leq k \leq 127$ï¼‰å¹¶ç”»å‡ºå¹…åº¦ç›¸ä½è°±ã€‚</p>
                        <p style="margin-left: 45px;"><strong>æ³¨æ„</strong>ï¼šæ•°æ®è¾ƒå¤šæ—¶ä½¿ç”¨ plot å‡½æ•°ä»£æ›¿ stem å‡½æ•°ã€‚</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">5</span> è§‚å¯Ÿç¬¬4é¢˜å’Œç¬¬1é¢˜çš„ç»“æœï¼Œæ•°å­—é¢‘ç‡ $\omega$ å’ŒDFTä¸­ $k$ çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</p>
                    </div>
                </div>
            </section>

            <!-- ç»ƒä¹ äºŒ -->
            <section id="exercise2">
                <h2><span class="badge badge-practice">å®è·µ</span>ç»ƒä¹ äºŒï¼šå·ç§¯å®šç†çš„éªŒè¯</h2>

                <div class="exercise-box">
                    <h3>é¢˜ç›®</h3>
                    <p>è®¾æœ‰ä¸¤åºåˆ— $x[n] = [1, 1, 1, 1]$ï¼Œ$y[n] = [1, 1, 1, 1]$</p>

                    <div class="question-item">
                        <p><span class="question-number">1</span> å¯¹ $x$ å’Œ $y$ åšçº¿æ€§å·ç§¯ï¼ˆä½¿ç”¨ conv å‡½æ•°ï¼‰ï¼ŒæŠŠå·ç§¯ç»“æœç”¨ stem å‡½æ•°ç”»å‡ºæ¥ã€‚</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">2</span> æ‰‹åŠ¨è®¡ç®— $x$ å’Œ $y$ ä¹‹é—´çš„åœ†å‘¨å·ç§¯ç»“æœã€‚</p>
                        <p style="margin-left: 45px;"><strong>æç¤º</strong>ï¼šåœ†å‘¨å·ç§¯å®šä¹‰ä¸º $z[n] = \sum_{m=0}^{N-1} x[m]y[(n-m) \bmod N]$ï¼Œ$n = 0, 1, 2, 3$</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">3</span> åˆ†åˆ«è®¡ç®— $x$ å’Œ $y$ çš„DFTï¼Œç»“æœä¿å­˜åœ¨ Xk å’Œ Yk ä¸­ã€‚å¯¹ç»“æœåšç‚¹ä¹˜ï¼Œä¹Ÿå°±æ˜¯è®¡ç®— $Zk = Xk .* Yk$ã€‚å¯¹ Zk æ±‚é€†ç¦»æ•£å‚…é‡Œå¶å˜æ¢ï¼ˆä½¿ç”¨ ifft å‡½æ•°ï¼‰ã€‚å¦‚æœä½ å¾—åˆ°å¤æ•°ç»“æœï¼Œä½¿ç”¨ real å‡½æ•°æå–å®æ•°éƒ¨åˆ†ã€‚ç¡®è®¤ä½ çš„ç»“æœä¸ç¬¬2é¢˜è·å¾—çš„ç»“æœä¸€è‡´ã€‚ä½¿ç”¨ stem å‡½æ•°ç»˜åˆ¶ç»“æœï¼Œè§‚å¯Ÿç»“æœä¸­æœ‰å¤šå°‘ä¸ªæ ·æœ¬æ•°å’Œç¬¬1é¢˜ä¸­çš„ç»“æœä¸€è‡´ï¼Ÿ</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">4</span> å¯¹ $x$ å’Œ $y$ å°¾éƒ¨å¡«é›¶ã€‚é¦–å…ˆå¯¹ $x$ å’Œ $y$ åˆ†åˆ«æ·»åŠ ä¸€ä¸ªé›¶ï¼Œé‡å¤ç¬¬2é¢˜å’Œç¬¬3é¢˜ã€‚æœ‰å¤šå°‘ä¸ªæ ·æœ¬å’Œç¬¬1é¢˜çš„ç»“æœæ˜¯ä¸€è‡´çš„ï¼Ÿéœ€è¦è¡¥å……å¤šå°‘é›¶æ‰èƒ½ä½¿ç»“æœå’Œç¬¬1é¢˜ä¸­çš„å®Œå…¨ä¸€è‡´ï¼Œç”»å›¾éªŒè¯ã€‚</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">5</span> æœ‰ä¸¤ä¸ªæ–°çš„åºåˆ— $u[n] = [-3, 5, 8, 6, 2, 2]$ï¼Œ$v[n] = [1, 1, 4, 2]$ï¼Œé‡å¤ä»¥ä¸Šé—®é¢˜å¹¶å›ç­”ï¼šå¯¹ $u$ å’Œ $v$ å„è¡¥å……å¤šå°‘é›¶å¯ä½¿å¾— $u$ å’Œ $v$ ä¹‹é—´çš„çº¿æ€§å·ç§¯ç»“æœç­‰äºå¾ªç¯å·ç§¯ç»“æœï¼Ÿ</p>
                    </div>
                </div>
            </section>

            <!-- ç»ƒä¹ ä¸‰ -->
            <section id="exercise3">
                <h2><span class="badge badge-practice">å®è·µ</span>ç»ƒä¹ ä¸‰ï¼šå®é™…ä¿¡å·çš„é¢‘è°±åˆ†æ</h2>

                <div class="exercise-box">
                    <h3>é¢˜ç›®</h3>
                    <p>è¿è¡Œä»¥ä¸‹ä»£ç å°† 'tones.mat' æ–‡ä»¶ä¸­çš„ä¿¡å·æ•°æ®è¯»å–åˆ°MATLABä¸­ï¼Œè¿™ä¸ªä¿¡å·é‡Œé¢åŒ…å«äº†å¤šä¸ªä¸åŒé¢‘ç‡çš„å£°éŸ³ã€‚</p>
                    
                    <div class="code-block">
                        <code>
<span class="code-line">s = <span class="code-keyword">load</span>(<span class="code-string">'tones.mat'</span>);</span>
<span class="code-line">x = s.y1;</span>
                        </code>
                    </div>

                    <p>å˜é‡ $x$ ç°åœ¨å°±æ˜¯å£°éŸ³ä¿¡å·ã€‚</p>

                    <div class="question-item">
                        <p><span class="question-number">1</span> è®¡ç®— $x$ æ‰€å¯¹åº”çš„DFTï¼Œå‡è®¾ $N=25$ã€‚ç”¨ stem å‡½æ•°ç”»å‡ºå¹…åº¦è°±ï¼Œä½ è§‚å¯Ÿåˆ°äº†å¤šå°‘ä¸ªä¸»è¦é¢‘ç‡åˆ†é‡ï¼Ÿ</p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">2</span> å¯¹ $x$ è¡¥é›¶ï¼ˆè°ƒæ•´ $N$ å€¼ï¼‰å¹¶é‡æ–°è®¡ç®—DFTçš„ç»“æœï¼Œä½ æ˜¯å¦è§‚å¯Ÿåˆ°äº†æ›´å¤šçš„é¢‘ç‡åˆ†é‡ï¼Ÿå®ƒä»¬å…·ä½“çš„é¢‘ç‡æ˜¯å¤šå°‘ï¼Ÿå°è¯•ç”»å‡º $x$ çš„å›¾åƒï¼Œæ€è€ƒç†è§£ä¸ºä»€ä¹ˆè¦å°†æ—¶é—´ä¿¡å·å˜æ¢åˆ°é¢‘åŸŸè¿›è¡Œåˆ†æã€‚</p>
                    </div>
                </div>
            </section>

            <!-- ç»ƒä¹ å›› -->
            <section id="exercise4">
                <h2><span class="badge badge-practice">å®è·µ</span>ç»ƒä¹ å››ï¼šç¼–å†™è‡ªå®šä¹‰DFTå‡½æ•°</h2>

                <div class="exercise-box">
                    <h3>é¢˜ç›®</h3>
                    <p>å†™ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•° <code>X = MyDFT(x, N)</code> ç”¨ä»¥è®¡ç®—åºåˆ— $x$ æ‰€å¯¹åº”çš„DFTã€‚</p>

                    <h4>å‡½æ•°è¦æ±‚ï¼š</h4>
                    <ul>
                        <li>$N$ çš„é•¿åº¦å¯èƒ½å’Œåºåˆ—çœŸå®é•¿åº¦ $M$ ä¸åŒ</li>
                        <li>å¦‚æœ $N > M$ï¼Œåˆ™å‡½æ•°åº”è¯¥åœ¨ $x$ çš„æœ«å°¾è¡¥å……é›¶</li>
                        <li>å¦‚æœ $N < M$ï¼Œåˆ™åº”æˆªå–å‰ $N$ æ®µè¿›è¡Œè®¡ç®—</li>
                        <li>å†™å®Œåå¯ä»¥å’ŒMATLABè‡ªå¸¦ fft() å‡½æ•°è¿›è¡Œæ¯”è¾ƒ</li>
                        <li>å¯ä»¥ç”¨ randn å‡½æ•°åˆ›å»ºéšæœºæµ‹è¯•å‘é‡</li>
                    </ul>

                    <h4>DFTå®šä¹‰ï¼š</h4>
                    <div class="formula-box">
                        <p style="text-align: center;">
                            $$X[k] = \sum_{n=0}^{N-1} x[n]e^{-j\frac{2\pi kn}{N}}, \quad k = 0, 1, \ldots, N-1$$
                        </p>
                    </div>

                    <div class="question-item">
                        <p><span class="question-number">ä»»åŠ¡</span> ç¼–å†™ MyDFT å‡½æ•°ï¼Œå¹¶ç”¨å¤šä¸ªæµ‹è¯•ç”¨ä¾‹éªŒè¯å…¶æ­£ç¡®æ€§ï¼ˆä¸ fft å‡½æ•°æ¯”è¾ƒï¼‰ã€‚æ¯”è¾ƒä¸¤è€…çš„è®¡ç®—æ—¶é—´ï¼Œåˆ†ææ•ˆç‡å·®å¼‚ã€‚</p>
                    </div>
                </div>
            </section>

            <!-- æ€»ç»“ -->
            <section id="summary">
                <h2>å®éªŒæ€»ç»“</h2>
                
                <h3>æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
                <table>
                    <tr>
                        <th>æ¦‚å¿µ</th>
                        <th>å…³é”®è¦ç‚¹</th>
                        <th>åº”ç”¨</th>
                    </tr>
                    <tr>
                        <td><strong>DTFT</strong></td>
                        <td>è¿ç»­é¢‘ç‡ï¼Œå‘¨æœŸ $2\pi$ï¼Œç†è®ºåˆ†æå·¥å…·</td>
                        <td>ç†è§£ä¿¡å·é¢‘ç‡ç‰¹æ€§</td>
                    </tr>
                    <tr>
                        <td><strong>DFT</strong></td>
                        <td>ç¦»æ•£é¢‘ç‡ï¼ŒDTFTçš„é‡‡æ ·ç‰ˆæœ¬</td>
                        <td>è®¡ç®—æœºæ•°å€¼è®¡ç®—</td>
                    </tr>
                    <tr>
                        <td><strong>FFT</strong></td>
                        <td>å¿«é€Ÿè®¡ç®—DFTï¼Œ$O(N \log N)$ å¤æ‚åº¦</td>
                        <td>å®æ—¶ä¿¡å·å¤„ç†</td>
                    </tr>
                    <tr>
                        <td><strong>é›¶å¡«å……</strong></td>
                        <td>æé«˜é¢‘ç‡åˆ†è¾¨ç‡ï¼Œä¸å¢åŠ æ–°ä¿¡æ¯</td>
                        <td>ç²¾ç»†é¢‘è°±åˆ†æ</td>
                    </tr>
                    <tr>
                        <td><strong>å·ç§¯å®šç†</strong></td>
                        <td>æ—¶åŸŸå·ç§¯ âŸ· é¢‘åŸŸç›¸ä¹˜</td>
                        <td>å¿«é€Ÿå·ç§¯è®¡ç®—</td>
                    </tr>
                </table>

                <h3>å¸¸è§é—®é¢˜</h3>
                <div class="note-box">
                    <p><strong>Q1: ä¸ºä»€ä¹ˆéœ€è¦FFTï¼ŒDFTä¸å¤Ÿç”¨å—ï¼Ÿ</strong></p>
                    <p>A: DFTå’ŒFFTè®¡ç®—ç»“æœç›¸åŒï¼Œä½†FFTæ•ˆç‡é«˜å¾—å¤šã€‚å¯¹äº $N=1024$ï¼ŒFFTæ¯”DFTå¿«çº¦100å€ã€‚åœ¨å®æ—¶å¤„ç†ä¸­ï¼ŒFFTæ˜¯å¿…éœ€çš„ã€‚</p>
                </div>

                <div class="note-box">
                    <p><strong>Q2: é›¶å¡«å……ä¼šå¢åŠ æ–°çš„ä¿¡æ¯å—ï¼Ÿ</strong></p>
                    <p>A: ä¸ä¼šã€‚é›¶å¡«å……åªæ˜¯å¯¹DTFTè¿›è¡Œæ›´å¯†é›†çš„é‡‡æ ·ï¼Œä½¿é¢‘è°±çœ‹èµ·æ¥æ›´å¹³æ»‘ï¼Œä½†ä¸ä¼šåˆ›é€ æ–°ä¿¡æ¯ã€‚</p>
                </div>

                <div class="note-box">
                    <p><strong>Q3: å¦‚ä½•é€‰æ‹©åˆé€‚çš„DFTç‚¹æ•° $N$ï¼Ÿ</strong></p>
                    <p>A: ä¸€èˆ¬åŸåˆ™ï¼š$N$ åº” $\geq$ ä¿¡å·é•¿åº¦ $M$ï¼›è‹¥è¦æé«˜é¢‘ç‡åˆ†è¾¨ç‡ï¼Œå¯å¢å¤§ $N$ï¼›FFTåœ¨ $N$ ä¸º2çš„å¹‚æ¬¡æ—¶æœ€å¿«ã€‚</p>
                </div>
            </section>
        </div>

        <footer>
            <p>&copy; 2024 å—äº¬å·¥ä¸šå¤§å­¦æµ¦æ±Ÿå­¦é™¢ è®¡ç®—æœºä¸é€šä¿¡å·¥ç¨‹å­¦é™¢</p>
            <p>é€šä¿¡å·¥ç¨‹ä¸“ä¸š | æ•°å­—ä¿¡å·å¤„ç†è¯¾ç¨‹å®éªŒ</p>
            <p style="margin-top: 10px; opacity: 0.8;">å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆChromeã€Firefoxæˆ–Edgeæµè§ˆå™¨</p>
        </footer>
    </div>

    <script>
        // ç­‰å¾…MathJaxåŠ è½½å®Œæˆ
        MathJax.Hub.Queue(function() {
            console.log("MathJax loaded successfully");
        });

        // ==================== äº¤äº’å¼æ¼”ç¤º ====================
        const signalCanvas = document.getElementById('signalCanvas');
        const spectrumCanvas = document.getElementById('spectrumCanvas');
        const signalCtx = signalCanvas.getContext('2d');
        const spectrumCtx = spectrumCanvas.getContext('2d');

        const freqSlider = document.getElementById('frequency');
        const ampSlider = document.getElementById('amplitude');
        const dftPointsInput = document.getElementById('dftPoints');
        const signalTypeSelect = document.getElementById('signalType');
        const updateBtn = document.getElementById('updateBtn');

        freqSlider.oninput = function() {
            document.getElementById('freqValue').textContent = this.value;
        };
        ampSlider.oninput = function() {
            document.getElementById('ampValue').textContent = this.value;
        };

        function generateSignal(type, freq, amp, numSamples) {
            const signal = [];
            const samplingRate = 100;
            
            for (let n = 0; n < numSamples; n++) {
                const t = n / samplingRate;
                let value;
                
                switch(type) {
                    case 'sine':
                        value = amp * Math.sin(2 * Math.PI * freq * t);
                        break;
                    case 'cosine':
                        value = amp * Math.cos(2 * Math.PI * freq * t);
                        break;
                    case 'square':
                        value = amp * (Math.sin(2 * Math.PI * freq * t) >= 0 ? 1 : -1);
                        break;
                    case 'sawtooth':
                        value = amp * (2 * (freq * t - Math.floor(freq * t + 0.5)));
                        break;
                    case 'exponential':
                        value = amp * Math.exp(-t * 2) * Math.cos(2 * Math.PI * freq * t);
                        break;
                    default:
                        value = 0;
                }
                signal.push(value);
            }
            return signal;
        }

        function computeDFT(signal, N) {
            const magnitude = [];
            const phase = [];
            const M = signal.length;
            
            const x = signal.slice();
            if (N > M) {
                for (let i = M; i < N; i++) {
                    x.push(0);
                }
            } else if (N < M) {
                x.length = N;
            }
            
            for (let k = 0; k < N; k++) {
                let real = 0, imag = 0;
                for (let n = 0; n < N; n++) {
                    const angle = -2 * Math.PI * k * n / N;
                    real += x[n] * Math.cos(angle);
                    imag += x[n] * Math.sin(angle);
                }
                magnitude.push(Math.sqrt(real * real + imag * imag));
                phase.push(Math.atan2(imag, real));
            }
            
            return { magnitude, phase };
        }

        function drawSignal(signal) {
            const canvas = signalCanvas;
            const ctx = signalCtx;
            const width = canvas.width;
            const height = canvas.height;
            const padding = 50;
            
            ctx.clearRect(0, 0, width, height);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#2d57a4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, height/2);
            ctx.lineTo(width - padding, height/2);
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, height - padding);
            ctx.stroke();
            
            // æ ‡ç­¾
            ctx.fillStyle = '#2d57a4';
            ctx.font = 'bold 14px Arial';
            ctx.fillText('æ—¶åŸŸä¿¡å·', padding, 25);
            ctx.font = '12px Arial';
            ctx.fillText('n', width - padding + 10, height/2 + 15);
            ctx.fillText('x[n]', padding - 35, padding - 10);
            
            const maxVal = Math.max(...signal.map(Math.abs));
            const scale = (height/2 - padding - 10) / (maxVal + 0.1);
            
            // ç»˜åˆ¶ä¿¡å·
            ctx.strokeStyle = '#608de0';
            ctx.lineWidth = 2.5;
            ctx.beginPath();
            
            const step = (width - 2 * padding) / (signal.length - 1);
            signal.forEach((val, i) => {
                const x = padding + i * step;
                const y = height/2 - val * scale;
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // é‡‡æ ·ç‚¹
            ctx.fillStyle = '#D46A6A';
            signal.forEach((val, i) => {
                const x = padding + i * step;
                const y = height/2 - val * scale;
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, 2 * Math.PI);
                ctx.fill();
            });
        }

        function drawSpectrum(dft, N) {
            const canvas = spectrumCanvas;
            const ctx = spectrumCtx;
            const width = canvas.width;
            const height = canvas.height;
            const padding = 50;
            
            ctx.clearRect(0, 0, width, height);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#2d57a4';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, height - padding);
            ctx.stroke();
            
            // æ ‡ç­¾
            ctx.fillStyle = '#2d57a4';
            ctx.font = 'bold 14px Arial';
            ctx.fillText('é¢‘åŸŸï¼ˆå¹…åº¦è°±ï¼‰', padding, 25);
            ctx.font = '12px Arial';
            ctx.fillText('k', width - padding + 10, height - padding + 15);
            ctx.fillText('|X[k]|', padding - 40, padding - 10);
            
            const halfN = Math.floor(N/2) + 1;
            const magnitude = dft.magnitude.slice(0, halfN);
            
            const maxMag = Math.max(...magnitude);
            const scale = (height - 2 * padding - 10) / (maxMag + 0.1);
            
            const barWidth = (width - 2 * padding) / halfN;
            
            // æ¸å˜å¡«å……
            const gradient = ctx.createLinearGradient(0, height - padding, 0, padding);
            gradient.addColorStop(0, '#7dadff');
            gradient.addColorStop(0.5, '#608de0');
            gradient.addColorStop(1, '#5ca353');
            ctx.fillStyle = gradient;
            
            magnitude.forEach((mag, k) => {
                const x = padding + k * barWidth;
                const h = mag * scale;
                const y = height - padding - h;
                ctx.fillRect(x, y, barWidth * 0.8, h);
            });
            
            // æ ‡æ³¨å³°å€¼
            const peaks = [];
            for (let k = 1; k < magnitude.length - 1; k++) {
                if (magnitude[k] > magnitude[k-1] && 
                    magnitude[k] > magnitude[k+1] && 
                    magnitude[k] > maxMag * 0.2) {
                    peaks.push({k, mag: magnitude[k]});
                }
            }
            
            ctx.fillStyle = '#912d32';
            ctx.font = 'bold 11px Arial';
            peaks.forEach(peak => {
                const x = padding + peak.k * barWidth;
                const h = peak.mag * scale;
                const y = height - padding - h;
                ctx.fillText(`k=${peak.k}`, x, y - 8);
            });
        }

        function updateDisplay() {
            const freq = parseFloat(freqSlider.value);
            const amp = parseFloat(ampSlider.value);
            const N = parseInt(dftPointsInput.value);
            const signalType = signalTypeSelect.value;
            const numSamples = 100;
            
            const signal = generateSignal(signalType, freq, amp, numSamples);
            const dft = computeDFT(signal, N);
            
            drawSignal(signal);
            drawSpectrum(dft, N);
        }

        updateBtn.addEventListener('click', updateDisplay);
        updateDisplay();

        // ==================== ç¤ºä¾‹å›¾è¡¨ç”Ÿæˆ ====================
        
        // å›¾1ï¼š8ç‚¹DFTç»“æœï¼ˆä¿®å¤ç›¸ä½è°±ç»˜åˆ¶ï¼‰
        function drawExample1() {
            const canvas = document.getElementById('exampleCanvas1');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, width, height);
            
            const padding = 60;
            const plotHeight = (height - 3 * padding) / 2;
            
            // ç»˜åˆ¶å¹…åº¦è°±
            ctx.save();
            ctx.translate(0, padding);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#2d57a4';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(padding, plotHeight);
            ctx.lineTo(width - padding, plotHeight);
            ctx.moveTo(padding, 10);
            ctx.lineTo(padding, plotHeight);
            ctx.stroke();
            
            // æ ‡é¢˜å’Œæ ‡ç­¾
            ctx.fillStyle = '#2d57a4';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('8ç‚¹DFTå¹…åº¦è°±', width/2, -10);
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('|X[k]|', 10, 20);
            ctx.textAlign = 'center';
            ctx.fillText('é¢‘ç‡ç´¢å¼• k', width/2, plotHeight + 30);
            
            // ç»˜åˆ¶æ•°æ®ï¼ˆå¹…åº¦å…¨ä¸º1ï¼‰
            const N = 8;
            const barWidth = (width - 2 * padding) / (N + 1);
            const gradient = ctx.createLinearGradient(0, 20, 0, plotHeight);
            gradient.addColorStop(0, '#5ca353');
            gradient.addColorStop(1, '#7dadff');
            ctx.fillStyle = gradient;
            
            for (let k = 0; k < N; k++) {
                const x = padding + (k + 1) * barWidth;
                const h = plotHeight - 20;
                ctx.fillRect(x - 8, 20, 16, h);
                
                // kå€¼æ ‡ç­¾
                ctx.fillStyle = '#666';
                ctx.font = '11px Arial';
                ctx.fillText(k.toString(), x, plotHeight + 15);
                ctx.fillStyle = gradient;
            }
            
            // ç»˜åˆ¶yè½´åˆ»åº¦
            ctx.fillStyle = '#666';
            ctx.font = '11px Arial';
            ctx.textAlign = 'right';
            ctx.fillText('1.0', padding - 5, 20);
            ctx.fillText('0.5', padding - 5, (plotHeight + 20) / 2);
            ctx.fillText('0.0', padding - 5, plotHeight);
            
            ctx.restore();
            
            // ç»˜åˆ¶ç›¸ä½è°±ï¼ˆä¿®å¤ï¼šåªæ˜¾ç¤ºç‚¹ï¼Œä¸æ˜¾ç¤ºç«–çº¿ï¼‰
            ctx.save();
            ctx.translate(0, padding * 2 + plotHeight);
            
            // åæ ‡è½´
            ctx.strokeStyle = '#2d57a4';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(padding, plotHeight/2);
            ctx.lineTo(width - padding, plotHeight/2);
            ctx.moveTo(padding, 10);
            ctx.lineTo(padding, plotHeight - 10);
            ctx.stroke();
            
            // æ ‡é¢˜å’Œæ ‡ç­¾
            ctx.fillStyle = '#2d57a4';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('8ç‚¹DFTç›¸ä½è°±', width/2, -10);
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('âˆ X[k]', 5, 20);
            ctx.textAlign = 'center';
            ctx.fillText('é¢‘ç‡ç´¢å¼• k', width/2, plotHeight + 20);
            
            // ç»˜åˆ¶æ•°æ®ï¼ˆç›¸ä½å…¨ä¸º0ï¼Œåªç”»ç‚¹åœ¨ä¸­çº¿ï¼‰
            ctx.fillStyle = '#D46A6A';
            for (let k = 0; k < N; k++) {
                const x = padding + (k + 1) * barWidth;
                const y = plotHeight / 2;
                // åªç»˜åˆ¶ç‚¹ï¼Œä¸ç»˜åˆ¶çº¿
                ctx.beginPath();
                ctx.arc(x, y, 5, 0, 2 * Math.PI);
                ctx.fill();
                
                // kå€¼æ ‡ç­¾
                ctx.fillStyle = '#666';
                ctx.font = '11px Arial';
                ctx.fillText(k.toString(), x, plotHeight + 5);
                ctx.fillStyle = '#D46A6A';
            }
            
            // yè½´åˆ»åº¦
            ctx.fillStyle = '#666';
            ctx.font = '11px Arial';
            ctx.textAlign = 'right';
            ctx.fillText('Ï€', padding - 5, 15);
            ctx.fillText('0', padding - 5, plotHeight/2 + 5);
            ctx.fillText('-Ï€', padding - 5, plotHeight - 5);
            
            ctx.restore();
        }

        // å›¾2ï¼šä¸åŒNå€¼çš„DFTæ¯”è¾ƒ
        function drawExample2() {
            const canvas = document.getElementById('exampleCanvas2');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, width, height);
            
            const padding = 50;
            const plotWidth = (width - 3 * padding) / 2;
            const plotHeight = (height - 3 * padding) / 2;
            
            const N_values = [8, 100, 500, 1000];
            const positions = [
                [padding, padding],
                [padding * 2 + plotWidth, padding],
                [padding, padding * 2 + plotHeight],
                [padding * 2 + plotWidth, padding * 2 + plotHeight]
            ];
            
            N_values.forEach((N, idx) => {
                const [offsetX, offsetY] = positions[idx];
                
                ctx.save();
                ctx.translate(offsetX, offsetY);
                
                // åæ ‡è½´
                ctx.strokeStyle = '#2d57a4';
                ctx.lineWidth = 1.5;
                ctx.beginPath();
                ctx.moveTo(0, plotHeight);
                ctx.lineTo(plotWidth, plotHeight);
                ctx.moveTo(0, 0);
                ctx.lineTo(0, plotHeight);
                ctx.stroke();
                
                // æ ‡é¢˜
                ctx.fillStyle = '#2d57a4';
                ctx.font = 'bold 13px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`${N}ç‚¹DFTå¹…åº¦è°±`, plotWidth/2, -10);
                
                // ç»˜åˆ¶æ•°æ®ï¼ˆå¹…åº¦å…¨ä¸º1ï¼‰
                if (N <= 100) {
                    // ä½¿ç”¨æŸ±çŠ¶å›¾
                    const barWidth = plotWidth / (N + 1);
                    const gradient = ctx.createLinearGradient(0, 0, 0, plotHeight);
                    gradient.addColorStop(0, '#5ca353');
                    gradient.addColorStop(0.5, '#608de0');
                    gradient.addColorStop(1, '#7dadff');
                    ctx.fillStyle = gradient;
                    
                    for (let k = 0; k < N; k++) {
                        const x = k * barWidth;
                        const h = plotHeight - 5;
                        ctx.fillRect(x, 5, barWidth * 0.7, h);
                    }
                } else {
                    // ä½¿ç”¨è¿ç»­æ›²çº¿
                    ctx.strokeStyle = '#608de0';
                    ctx.lineWidth = 2;
                    ctx.beginPath();
                    for (let k = 0; k < N; k++) {
                        const x = k * plotWidth / N;
                        const y = 5;
                        if (k === 0) {
                            ctx.moveTo(x, y);
                        } else {
                            ctx.lineTo(x, y);
                        }
                    }
                    ctx.stroke();
                }
                
                // åæ ‡è½´æ ‡ç­¾
                ctx.fillStyle = '#666';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('k', plotWidth/2, plotHeight + 15);
                ctx.textAlign = 'right';
                ctx.fillText('|X[k]|', -5, 10);
                
                ctx.restore();
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåç”Ÿæˆç¤ºä¾‹å›¾è¡¨
        window.addEventListener('load', function() {
            setTimeout(() => {
                drawExample1();
                drawExample2();
            }, 500);
        });

        // å“åº”å¼è°ƒæ•´
        function resizeCanvas() {
            const container = signalCanvas.parentElement;
            const width = Math.min(container.clientWidth - 20, 800);
            signalCanvas.width = width;
            spectrumCanvas.width = width;
            updateDisplay();
        }
        
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
    </script>
</body>
</html>