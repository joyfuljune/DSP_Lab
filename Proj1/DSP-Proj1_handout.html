<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸºäºDCTåŸç†çš„éŸ³é¢‘å‹ç¼©å®éªŒ</title>
    
    <!-- MathJax for mathematical formulas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$','$'], ['\\(','\\)']],
                displayMath: [['$$','$$'], ['\\[','\\]']],
                processEscapes: true
            },
            CommonHTML: { scale: 110 },
            "HTML-CSS": { scale: 110 }
        });
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'SimSun', Arial, sans-serif;
            line-height: 1.8;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.25);
            overflow: hidden;
            position: relative;
        }

        /* ç«–ç›´è¿›åº¦æ¡ - ä»…é’ˆå¯¹æ ¸å¿ƒæ¦‚å¿µ */
        .vertical-progress {
            position: fixed;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 350px;
            background: #e0e0e0;
            border-radius: 2px;
            z-index: 1000;
        }

        .vertical-progress::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 0%;
            background: linear-gradient(180deg, #667eea, #764ba2);
            border-radius: 2px;
            transition: height 0.3s ease;
        }

        .progress-markers {
            position: absolute;
            left: -30px;
            top: 0;
            width: 80px;
            height: 100%;
        }

        .progress-marker {
            position: absolute;
            left: 0;
            width: 100%;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .progress-marker::before {
            content: '';
            width: 12px;
            height: 12px;
            background: #e0e0e0;
            border: 2px solid #fff;
            border-radius: 50%;
            position: absolute;
            left: 34px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.3s;
            z-index: 2;
        }

        .progress-marker.active::before {
            background: #667eea;
            width: 16px;
            height: 16px;
            left: 32px;
        }

        .progress-marker-label {
            position: absolute;
            right: 55px;
            background: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            white-space: nowrap;
            opacity: 0;
            transform: translateX(10px);
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            pointer-events: none;
        }

        .progress-marker:hover .progress-marker-label,
        .progress-marker.active .progress-marker-label {
            opacity: 1;
            transform: translateX(0);
        }

        .progress-marker.active .progress-marker-label {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
            border-bottom: 5px solid #9f7aea;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: bold;
        }

        header .subtitle {
            font-size: 1.1em;
            opacity: 0.95;
            margin-top: 10px;
        }

        header .institution {
            font-size: 0.95em;
            margin-top: 15px;
            opacity: 0.9;
            border-top: 2px solid rgba(255,255,255,0.3);
            padding-top: 15px;
        }

        nav {
            background: #f5f7fa;
            padding: 20px 40px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            border-bottom: 3px solid #9f7aea;
        }

        nav a {
            color: #5a67d8;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            transition: all 0.3s;
            font-size: 0.95em;
            font-weight: 500;
            background: white;
            border: 2px solid #9f7aea;
        }

        nav a:hover {
            background: #9f7aea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(159, 122, 234, 0.4);
        }

        .content {
            padding: 50px;
            max-width: 1100px;
            margin: 0 auto;
        }

        section {
            margin-bottom: 60px;
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #5a67d8;
            font-size: 2em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 4px solid #9f7aea;
            font-weight: bold;
        }

        h3 {
            color: #667eea;
            font-size: 1.6em;
            margin: 30px 0 20px 0;
            font-weight: bold;
        }

        h4 {
            color: #5a67d8;
            font-size: 1.3em;
            margin: 25px 0 15px 0;
            font-weight: 600;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
            line-height: 1.9;
        }
        
        code {
            background-color: #edf2f7;
            color: #5a67d8;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            display: inline-block;
            margin: 0 2px;
        }

        .formula-box {
            background: linear-gradient(135deg, #f7fafc 0%, #ffffff 100%);
            border-left: 5px solid #667eea;
            padding: 20px 25px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
            overflow-x: auto;
        }

        .formula-box p {
            margin-bottom: 10px;
            color: #555;
        }

        .tip-box {
            background: linear-gradient(135deg, #f0fff4 0%, #f7fafc 100%);
            border-left: 5px solid #48bb78;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
        }

        .warning-box {
            background: linear-gradient(135deg, #fff5f5 0%, #fffaf0 100%);
            border-left: 5px solid #f56565;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
        }

        .analysis-box {
            background: linear-gradient(135deg, #fffaf0 0%, #fefcbf 100%);
            border-left: 5px solid #ed8936;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
        }

        .analysis-box h4 {
            color: #c05621;
            margin-top: 0;
            font-size: 1.2em;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 25px;
            border-radius: 10px;
            margin: 25px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            line-height: 1.6;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            border: 2px solid #667eea;
            font-size: 0.9em;
        }
        
        .code-block code {
            background: none;
            color: inherit;
            padding: 0;
            font-size: inherit;
            display: block;
            white-space: pre;
        }

        .code-block::before {
            content: 'MATLAB';
            position: absolute;
            top: 8px;
            right: 15px;
            color: #9f7aea;
            font-size: 0.85em;
            font-weight: bold;
            font-family: Arial, sans-serif;
        }

        .code-comment { color: #6a9955; }
        .code-keyword { color: #c586c0; }
        .code-string { color: #ce9178; }
        .code-number { color: #b5cea8; }
        .code-function { color: #dcdcaa; }

        /* é™æ€æµç¨‹å›¾ - ç®€æ´ç‰ˆ */
        .static-flowchart {
            background: linear-gradient(135deg, #f7fafc 0%, #ffffff 100%);
            border: 3px solid #9f7aea;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
            position: relative;
        }

        .flow-container-static {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 15px;
        }

        .flow-step-static {
            flex: 1;
            text-align: center;
        }

        .flow-icon-static {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            margin: 0 auto 12px;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .flow-label-static {
            font-size: 0.95em;
            font-weight: 600;
            color: #5a67d8;
            line-height: 1.4;
        }

        .flow-arrow-static {
            font-size: 2em;
            color: #9f7aea;
            flex-shrink: 0;
        }

        /* æ”¹è¿›çš„åŠ¨æ€æµç¨‹å›¾ - ç§‘å­¦ç¤ºæ„å›¾é£æ ¼ */
        .animated-flowchart {
            background: linear-gradient(135deg, #f7fafc 0%, #ffffff 100%);
            border: 3px solid #9f7aea;
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .flow-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
            position: relative;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
            opacity: 0;
            animation: slideInFromLeft 0.8s ease forwards;
        }

        .flow-step:nth-child(1) { animation-delay: 0.2s; }
        .flow-step:nth-child(2) { animation-delay: 0.4s; }
        .flow-step:nth-child(3) { animation-delay: 0.6s; }
        .flow-step:nth-child(4) { animation-delay: 0.8s; }
        .flow-step:nth-child(5) { animation-delay: 1.0s; }
        .flow-step:nth-child(6) { animation-delay: 1.2s; }
        .flow-step:nth-child(7) { animation-delay: 1.4s; }

        @keyframes slideInFromLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .flow-icon {
            min-width: 100px;
            width: 100px;
            height: 60px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1em;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            position: relative;
            z-index: 2;
        }

        .flow-content {
            flex: 1;
            background: white;
            padding: 20px 25px;
            border-radius: 12px;
            border: 2px solid #e0e0e0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }

        .flow-content:hover {
            transform: translateX(10px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }

        .flow-content h4 {
            margin: 0 0 8px 0;
            color: #5a67d8;
            font-size: 1.1em;
        }

        .flow-content p {
            margin: 0;
            font-size: 0.95em;
            color: #666;
        }

        .flow-connector {
            position: absolute;
            left: 50px;
            top: 60px;
            bottom: -25px;
            width: 3px;
            background: linear-gradient(180deg, #9f7aea, #667eea);
            z-index: 1;
        }

        .flow-step:last-child .flow-connector {
            display: none;
        }

        /* åŠ¨æ€æ­¥éª¤å±•ç¤º */
        .step-visualization {
            background: white;
            border: 2px solid #9f7aea;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
        }

        .step-viz-canvas {
            width: 100%;
            height: 300px;
            background: #f7fafc;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        /* æ”¹è¿›çš„é‡åŒ–å¯è§†åŒ– */
        .quantization-demo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
            padding: 40px;
            background: linear-gradient(135deg, #f7fafc 0%, #ffffff 100%);
            border-radius: 15px;
            border: 3px solid #9f7aea;
        }

        .quant-column {
            flex: 1;
            text-align: center;
        }

        .quant-title {
            font-weight: 600;
            color: #5a67d8;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .quant-visual {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .continuous-spectrum {
            width: 200px;
            height: 120px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .spectrum-bar {
            width: 100%;
            height: 40px;
            background: linear-gradient(90deg, 
                #e0e7ff 0%, 
                #c7d2fe 25%, 
                #a5b4fc 50%, 
                #818cf8 75%, 
                #6366f1 100%);
            border-radius: 20px;
            position: relative;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .value-indicator {
            position: absolute;
            top: -50px;
            left: 65%;
            transform: translateX(-50%);
            animation: valueFloat 3s ease-in-out infinite;
        }

        @keyframes valueFloat {
            0%, 100% { top: -50px; }
            50% { top: -45px; }
        }

        .value-badge {
            background: #f56565;
            color: white;
            padding: 6px 14px;
            border-radius: 12px;
            font-size: 0.95em;
            font-weight: bold;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(245, 101, 101, 0.3);
        }

        .value-arrow {
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid #f56565;
            margin: 0 auto;
        }

        .discrete-levels {
            display: flex;
            gap: 8px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .level-box {
            width: 40px;
            height: 40px;
            background: #e0e0e0;
            border: 2px solid #ccc;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
            font-weight: bold;
            color: #666;
            transition: all 0.4s ease;
        }

        .level-box.active {
            background: #6366f1;
            color: white;
            border-color: #4f46e5;
            transform: scale(1.2);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.5);
            animation: levelPulse 2s ease-in-out infinite;
        }

        @keyframes levelPulse {
            0%, 100% { transform: scale(1.2); }
            50% { transform: scale(1.25); }
        }

        .quant-arrow {
            font-size: 3em;
            color: #667eea;
            animation: arrowFlow 3s ease-in-out infinite;
        }

        @keyframes arrowFlow {
            0%, 100% { transform: translateX(0); opacity: 0.8; }
            50% { transform: translateX(10px); opacity: 1; }
        }

        .quant-value-display {
            margin-top: 20px;
            font-size: 1.4em;
            font-weight: bold;
            color: #5a67d8;
        }

        .quant-error-display {
            margin-top: 8px;
            font-size: 0.95em;
            color: #f56565;
            font-weight: 600;
        }

        .demo-container {
            background: #f7fafc;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .demo-controls {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-group label {
            display: block;
            color: #5a67d8;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.05em;
        }

        .control-group input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
            -webkit-appearance: none;
        }

        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.2s;
        }

        .control-group input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            background: #5a67d8;
        }

        .control-group input[type="range"]::-moz-range-thumb {
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border: none;
            transition: all 0.2s;
        }

        .control-group input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.1);
            background: #5a67d8;
        }

        .value-display {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
            min-width: 70px;
            text-align: center;
            font-size: 0.95em;
        }

        .demo-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 18px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border-left: 4px solid #48bb78;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .stat-card h4 {
            color: #5a67d8;
            font-size: 0.9em;
            margin: 0 0 10px 0;
            font-weight: 600;
        }

        .stat-card .stat-value {
            color: #48bb78;
            font-size: 1.6em;
            font-weight: bold;
        }

        .charts-side-by-side {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .chart-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .chart-container h4 {
            text-align: center;
            color: #5a67d8;
            margin: 0 0 15px 0;
            font-size: 1.1em;
        }

        canvas {
            background: white;
            border-radius: 8px;
            display: block;
            margin: 0 auto;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .comparison-grid.four-columns {
            grid-template-columns: repeat(4, 1fr);
        }

        @media (max-width: 1200px) {
            .comparison-grid.four-columns {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .comparison-card {
            background: white;
            border: 2px solid #9f7aea;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }

        .comparison-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.2);
        }

        .comparison-card h4 {
            color: #5a67d8;
            margin-top: 0;
        }

        .concept-diagram {
            background: white;
            border: 2px solid #9f7aea;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
        }

        /* æ–°å¢ï¼šé‡åŒ–å¯¹æ¯”å›¾æ ·å¼ */
        .quantization-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
            padding: 30px;
            background: linear-gradient(135deg, #f7fafc 0%, #ffffff 100%);
            border-radius: 15px;
            border: 3px solid #9f7aea;
        }

        .comparison-panel {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 3px 12px rgba(0,0,0,0.08);
        }

        .comparison-panel h4 {
            text-align: center;
            color: #5a67d8;
            margin: 0 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #9f7aea;
        }

        .quant-visual-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .quant-ladder {
            width: 100%;
            height: 200px;
            position: relative;
            background: #fafafa;
            border-radius: 8px;
            padding: 15px;
        }

        .ladder-step {
            position: absolute;
            left: 15px;
            right: 15px;
            height: 20px;
            border: 2px solid;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75em;
            font-weight: 600;
            transition: all 0.3s;
        }

        .ladder-step:hover {
            transform: scaleX(1.02);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .comparison-info {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 15px;
        }

        .info-item {
            text-align: center;
        }

        .info-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .info-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #2d3748;
        }

        .example-values {
            width: 100%;
            background: #fafafa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
        }

        .example-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e8e8e8;
            font-size: 1em;
            align-items: center;
        }

        .example-row:last-child {
            border-bottom: none;
        }

        .example-original {
            color: #667eea;
            font-weight: 700;
            font-size: 1.1em;
        }

        .example-quantized {
            color: #48bb78;
            font-weight: 700;
            font-size: 1.1em;
        }

        .example-error {
            color: #f56565;
            font-size: 0.95em;
            font-weight: 600;
        }

        @media (max-width: 968px) {
            .vertical-progress {
                display: none;
            }

            .charts-side-by-side {
                grid-template-columns: 1fr;
            }

            .quantization-demo {
                flex-direction: column;
            }

            .quant-arrow {
                transform: rotate(90deg);
            }

            .quantization-comparison {
                grid-template-columns: 1fr;
            }

            .flow-container-static {
                flex-direction: column;
            }

            .flow-arrow-static {
                transform: rotate(90deg);
            }

            .comparison-grid.four-columns {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .content {
                padding: 30px 20px;
            }

            header h1 {
                font-size: 1.8em;
            }

            h2 {
                font-size: 1.5em;
            }

            h3 {
                font-size: 1.3em;
            }
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 10px 0;
            line-height: 1.8;
        }
    </style>
</head>
<body>
    <!-- ç«–ç›´è¿›åº¦æ¡ - ä»…é’ˆå¯¹æ ¸å¿ƒæ¦‚å¿µ -->
    <div class="vertical-progress" id="verticalProgress">
        <div class="progress-markers">
            <div class="progress-marker active" data-section="concept-windowing" style="top: 0%;">
                <span class="progress-marker-label">5.1 ä¿¡å·åˆ†æ®µ</span>
            </div>
            <div class="progress-marker" data-section="concept-threshold" style="top: 25%;">
                <span class="progress-marker-label">5.2 èƒ½é‡é˜ˆå€¼</span>
            </div>
            <div class="progress-marker" data-section="concept-quantization" style="top: 50%;">
                <span class="progress-marker-label">5.3 é‡åŒ–</span>
            </div>
            <div class="progress-marker" data-section="concept-mse" style="top: 75%;">
                <span class="progress-marker-label">5.4 å‡æ–¹è¯¯å·®</span>
            </div>
            <div class="progress-marker" data-section="concept-compression" style="top: 100%;">
                <span class="progress-marker-label">5.5 å‹ç¼©æ¯”</span>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>åŸºäºDCTåŸç†çš„éŸ³é¢‘å‹ç¼©å®éªŒ</h1>
            <div class="subtitle">æ•°å­—ä¿¡å·å¤„ç†è¯¾ç¨‹å®éªŒ - é¡¹ç›®ä¸€</div>
            <div class="institution">æ¢ç´¢é¢‘åŸŸå˜æ¢åœ¨éŸ³é¢‘å‹ç¼©ä¸­çš„åº”ç”¨</div>
        </header>

        <nav>
            <a href="#intro">å®éªŒä»‹ç»</a>
            <a href="#background">ç†è®ºèƒŒæ™¯</a>
            <a href="#dct">DCTå˜æ¢</a>
            <a href="#process">å¤„ç†æµç¨‹</a>
            <a href="#concepts">æ ¸å¿ƒæ¦‚å¿µ</a>
            <a href="#demo">å‹ç¼©æ¼”ç¤º</a>
            <a href="#project">é¡¹ç›®è¯´æ˜</a>
        </nav>

        <div class="content">
            <!-- 1. å®éªŒä»‹ç» -->
            <section id="intro">
                <h2>ä¸€ã€å®éªŒä»‹ç»</h2>
                
                <h3>éŸ³é¢‘å‹ç¼©ï¼šè®©å£°éŸ³"ç˜¦èº«"çš„è‰ºæœ¯</h3>
                <p>
                    æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ‰‹æœºé‡Œçš„éŸ³ä¹æ–‡ä»¶åŠ¨è¾„å‡ åMBï¼Œå¦‚æœä¸å‹ç¼©ï¼Œä¸€é¦–æ­Œå°±èƒ½å æ»¡ä½ çš„å­˜å‚¨ç©ºé—´ã€‚
                    ä½†ç¥å¥‡çš„æ˜¯ï¼Œæˆ‘ä»¬æ—¥å¸¸å¬çš„MP3ã€AACç­‰æ ¼å¼çš„éŸ³é¢‘ï¼Œè™½ç„¶æ–‡ä»¶å°äº†å¾ˆå¤šï¼Œå¬èµ·æ¥å´ä¸åŸå§‹å½•éŸ³ç›¸å·®æ— å‡ ã€‚
                    è¿™èƒŒåçš„"é­”æ³•"å°±æ˜¯<strong>éŸ³é¢‘å‹ç¼©æŠ€æœ¯</strong>ã€‚
                </p>

                <p>
                    éŸ³é¢‘å‹ç¼©çš„æ ¸å¿ƒæ€æƒ³éå¸¸ç®€å•ï¼š<strong>å»æ‰äººè€³ä¸æ•æ„Ÿçš„ä¿¡æ¯ï¼Œä¿ç•™æœ€é‡è¦çš„å£°éŸ³ç‰¹å¾</strong>ã€‚
                    å°±åƒæ‹ç…§æ—¶é€‰æ‹©JPEGæ ¼å¼ä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨ä¿è¯è´¨é‡å¯æ¥å—çš„å‰æä¸‹ï¼Œå¤§å¹…å‡å°æ–‡ä»¶å¤§å°ã€‚
                </p>

                <!-- é™æ€æµç¨‹å›¾ - ç®€æ´ç‰ˆ -->
                <div class="static-flowchart">
                    <h4 style="text-align: center; color: #5a67d8; margin-bottom: 20px;">éŸ³é¢‘å‹ç¼©çš„åŸºæœ¬åŸç†</h4>
                    <div class="flow-container-static">
                        <div class="flow-step-static">
                            <div class="flow-icon-static">ğŸµ</div>
                            <div class="flow-label-static">åŸå§‹éŸ³é¢‘</div>
                        </div>
                        <div class="flow-arrow-static">â†’</div>
                        <div class="flow-step-static">
                            <div class="flow-icon-static">ğŸ”</div>
                            <div class="flow-label-static">é¢‘åŸŸåˆ†æ</div>
                        </div>
                        <div class="flow-arrow-static">â†’</div>
                        <div class="flow-step-static">
                            <div class="flow-icon-static">âœ‚ï¸</div>
                            <div class="flow-label-static">å»é™¤å†—ä½™</div>
                        </div>
                        <div class="flow-arrow-static">â†’</div>
                        <div class="flow-step-static">
                            <div class="flow-icon-static">ğŸ“¦</div>
                            <div class="flow-label-static">å‹ç¼©éŸ³é¢‘</div>
                        </div>
                    </div>
                </div>

                <h3>å®éªŒç›®æ ‡</h3>
                <p>åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†ï¼š</p>
                <ul>
                    <li>ç†è§£éŸ³é¢‘ä¿¡å·ä»<strong>æ—¶åŸŸ</strong>åˆ°<strong>é¢‘åŸŸ</strong>çš„è½¬æ¢è¿‡ç¨‹</li>
                    <li>æŒæ¡<strong>ç¦»æ•£ä½™å¼¦å˜æ¢(DCT)</strong>åœ¨éŸ³é¢‘å‹ç¼©ä¸­çš„åº”ç”¨</li>
                    <li>å­¦ä¹ èƒ½é‡é˜ˆå€¼ã€é‡åŒ–ç­‰å…³é”®å‹ç¼©æŠ€æœ¯</li>
                    <li>é€šè¿‡MATLABå®ç°å®Œæ•´çš„éŸ³é¢‘å‹ç¼©ä¸é‡å»ºæµç¨‹</li>
                    <li>åˆ†æå‹ç¼©æ¯”ä¸éŸ³è´¨ä¹‹é—´çš„æƒè¡¡å…³ç³»</li>
                </ul>

                <div class="tip-box">
                    <strong>ğŸ’¡ ä¸ºä»€ä¹ˆè¦å­¦ä¹ éŸ³é¢‘å‹ç¼©ï¼Ÿ</strong>
                    <p>
                        éŸ³é¢‘å‹ç¼©ä¸ä»…æ˜¯MP3ã€AACç­‰éŸ³é¢‘æ ¼å¼çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯æµåª’ä½“ã€è¯­éŸ³é€šè¯ã€è§†é¢‘ä¼šè®®ç­‰åº”ç”¨çš„æ ¸å¿ƒæŠ€æœ¯ã€‚
                        é€šè¿‡æœ¬å®éªŒï¼Œä½ å°†ç†è§£ç°ä»£å¤šåª’ä½“æŠ€æœ¯èƒŒåçš„æ•°å­¦åŸç†ï¼Œå¹¶æŒæ¡å°†ç†è®ºåº”ç”¨äºå®è·µçš„èƒ½åŠ›ã€‚
                    </p>
                </div>
            </section>

            <!-- 2. ç†è®ºèƒŒæ™¯ -->
            <section id="background">
                <h2>äºŒã€ç†è®ºèƒŒæ™¯ï¼šä»å‚…é‡Œå¶åˆ°DCT</h2>

                <h3>å›é¡¾ï¼šæˆ‘ä»¬å­¦è¿‡çš„é¢‘åŸŸå˜æ¢</h3>
                <p>
                    åœ¨æ•°å­—ä¿¡å·å¤„ç†è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¤šç§å°†ä¿¡å·ä»æ—¶åŸŸè½¬æ¢åˆ°é¢‘åŸŸçš„æ–¹æ³•ã€‚
                    è®©æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹è¿™äº›å˜æ¢ï¼Œç„¶åç†è§£DCTåœ¨è¿™ä¸ª"å˜æ¢å®¶æ—"ä¸­çš„ä½ç½®ã€‚
                </p>

                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>ğŸ“ˆ è¿ç»­æ—¶é—´å‚…é‡Œå¶å˜æ¢</h4>
                        <p><strong>å¯¹è±¡ï¼š</strong>è¿ç»­æ—¶é—´ä¿¡å·</p>
                        <p><strong>ç»“æœï¼š</strong>è¿ç»­é¢‘è°±</p>
                        <p><strong>ç‰¹ç‚¹ï¼š</strong>ç†è®ºåŸºç¡€ï¼Œéå‘¨æœŸä¿¡å·</p>
                    </div>

                    <div class="comparison-card">
                        <h4>ğŸ“‰ ç¦»æ•£æ—¶é—´å‚…é‡Œå¶å˜æ¢</h4>
                        <p><strong>å¯¹è±¡ï¼š</strong>ç¦»æ•£æ—¶é—´ä¿¡å·</p>
                        <p><strong>ç»“æœï¼š</strong>è¿ç»­é¢‘è°±ï¼ˆå‘¨æœŸçš„ï¼‰</p>
                        <p><strong>ç‰¹ç‚¹ï¼š</strong>é€‚åˆç¦»æ•£ä¿¡å·ï¼Œé¢‘åŸŸè¿ç»­</p>
                    </div>

                    <div class="comparison-card">
                        <h4>ğŸ”„ ç¦»æ•£å‚…é‡Œå¶çº§æ•°</h4>
                        <p><strong>å¯¹è±¡ï¼š</strong>å‘¨æœŸç¦»æ•£ä¿¡å·</p>
                        <p><strong>ç»“æœï¼š</strong>ç¦»æ•£é¢‘è°±ï¼ˆå‘¨æœŸçš„ï¼‰</p>
                        <p><strong>ç‰¹ç‚¹ï¼š</strong>æ—¶åŸŸå’Œé¢‘åŸŸéƒ½æ˜¯å‘¨æœŸçš„</p>
                    </div>

                    <div class="comparison-card">
                        <h4>ğŸ¯ ç¦»æ•£å‚…é‡Œå¶å˜æ¢</h4>
                        <p><strong>å¯¹è±¡ï¼š</strong>æœ‰é™é•¿ç¦»æ•£ä¿¡å·</p>
                        <p><strong>ç»“æœï¼š</strong>æœ‰é™é•¿ç¦»æ•£é¢‘è°±</p>
                        <p><strong>ç‰¹ç‚¹ï¼š</strong>è®¡ç®—æœºå¯å®ç°ï¼ŒFFTåŠ é€Ÿ</p>
                    </div>

                    <div class="comparison-card">
                        <h4>âš¡ å¿«é€Ÿå‚…é‡Œå¶å˜æ¢</h4>
                        <p><strong>æœ¬è´¨ï¼š</strong>DFTçš„å¿«é€Ÿç®—æ³•</p>
                        <p><strong>å¤æ‚åº¦ï¼š</strong>O(N log N)</p>
                        <p><strong>ç‰¹ç‚¹ï¼š</strong>é«˜æ•ˆè®¡ç®—ï¼Œå¹¿æ³›åº”ç”¨</p>
                    </div>

                    <div class="comparison-card">
                        <h4>ğŸ”¢ Zå˜æ¢</h4>
                        <p><strong>å¯¹è±¡ï¼š</strong>ç¦»æ•£æ—¶é—´ä¿¡å·</p>
                        <p><strong>ç»“æœï¼š</strong>å¤é¢‘åŸŸè¡¨ç¤º</p>
                        <p><strong>ç‰¹ç‚¹ï¼š</strong>ç³»ç»Ÿåˆ†æï¼ŒåŒ…å«DTFT</p>
                    </div>
                </div>

                <h3>DCTï¼šä¸“ä¸ºå®ä¿¡å·è®¾è®¡çš„å˜æ¢</h3>
                <p>
                    ç°åœ¨è®©æˆ‘ä»¬å¼•å…¥<strong>ç¦»æ•£ä½™å¼¦å˜æ¢(DCT)</strong>ã€‚
                    DCTä¸DFTå¯†åˆ‡ç›¸å…³ï¼Œä½†æœ‰ä¸€äº›ç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼Œä½¿å…¶æˆä¸ºéŸ³é¢‘å’Œå›¾åƒå‹ç¼©çš„é¦–é€‰ã€‚
                </p>

                <div class="analysis-box">
                    <h4>ğŸ” DCTä¸DFTçš„å…³ç³»</h4>
                    <p>DFTä½¿ç”¨<strong>å¤æŒ‡æ•°å‡½æ•°</strong> $e^{j\omega n}$ ä½œä¸ºåŸºå‡½æ•°ï¼Œå¯ä»¥åˆ†è§£ä¸ºï¼š</p>
                    <p style="text-align: center;">$e^{j\omega n} = \cos(\omega n) + j\sin(\omega n)$</p>
                    <p>
                        å¯¹äº<strong>å®æ•°ä¿¡å·</strong>ï¼ˆå¦‚éŸ³é¢‘ä¿¡å·ï¼‰ï¼ŒDFTä¼šäº§ç”Ÿå…±è½­å¯¹ç§°çš„é¢‘è°±ï¼Œå®é™…ä¸Šæœ‰ä¸€åŠä¿¡æ¯æ˜¯å†—ä½™çš„ã€‚
                        è€ŒDCTåªä½¿ç”¨<strong>ä½™å¼¦å‡½æ•°</strong> $\cos(\omega n)$ ä½œä¸ºåŸºå‡½æ•°ï¼Œç›´æ¥äº§ç”Ÿå®æ•°é¢‘è°±ï¼Œ
                        ä¸ä»…é¿å…äº†å†—ä½™ï¼Œè¿˜æé«˜äº†è®¡ç®—æ•ˆç‡ã€‚
                    </p>
                </div>

                <h4>DCTç›¸æ¯”DFTçš„ä¼˜åŠ¿</h4>
                <ul>
                    <li><strong>å®æ•°è¿ç®—ï¼š</strong>DCTçš„è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯å®æ•°ï¼Œæ— éœ€å¤„ç†å¤æ•°ï¼Œè®¡ç®—æ›´ç®€å•é«˜æ•ˆ</li>
                    <li><strong>èƒ½é‡é›†ä¸­ï¼š</strong>DCTèƒ½å°†ä¿¡å·èƒ½é‡é›†ä¸­åœ¨ä½é¢‘éƒ¨åˆ†ï¼Œè¿™æ­£æ˜¯å‹ç¼©æ‰€éœ€è¦çš„ç‰¹æ€§</li>
                    <li><strong>è¾¹ç•Œè¿ç»­ï¼š</strong>DCTçš„éšå«è¾¹ç•Œæ¡ä»¶ï¼ˆå¶å¯¹ç§°å»¶æ‹“ï¼‰å‡å°‘äº†åˆ†å—å¸¦æ¥çš„è¾¹ç•Œæ•ˆåº”</li>
                    <li><strong>å‹ç¼©æ€§èƒ½ï¼š</strong>å¯¹äºå¹³æ»‘ä¿¡å·ï¼ŒDCTçš„èƒ½é‡é›†ä¸­æ€§èƒ½ä¼˜äºDFTï¼Œå‹ç¼©æ•ˆæœæ›´å¥½</li>
                </ul>

                <div class="tip-box">
                    <strong>ğŸ’¡ ä¸ºä»€ä¹ˆé€‰æ‹©DCTè€Œä¸æ˜¯DFTï¼Ÿ</strong>
                    <p>
                        è™½ç„¶DFTï¼ˆé€šè¿‡FFTï¼‰è®¡ç®—é€Ÿåº¦å¾ˆå¿«ï¼Œä½†åœ¨å‹ç¼©åº”ç”¨ä¸­ï¼ŒDCTçš„èƒ½é‡é›†ä¸­ç‰¹æ€§æ›´æœ‰ä¼˜åŠ¿ã€‚
                        å®éªŒè¡¨æ˜ï¼Œå¯¹äºå¤§å¤šæ•°éŸ³é¢‘å’Œå›¾åƒä¿¡å·ï¼Œä½¿ç”¨DCTåï¼Œè¶…è¿‡90%çš„èƒ½é‡ä¼šé›†ä¸­åœ¨å‰10%çš„ç³»æ•°ä¸­ã€‚
                        è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä¸¢å¼ƒå¤§éƒ¨åˆ†ç³»æ•°ï¼Œè€Œå¯¹ä¿¡å·è´¨é‡å½±å“å¾ˆå°ï¼Œè¿™æ­£æ˜¯é«˜æ•ˆå‹ç¼©çš„å…³é”®ã€‚
                    </p>
                </div>
            </section>

            <!-- 3. DCTå˜æ¢è¯¦è§£ -->
            <section id="dct">
                <h2>ä¸‰ã€ç¦»æ•£ä½™å¼¦å˜æ¢(DCT)è¯¦è§£</h2>

                <h3>DCTçš„æ•°å­¦å®šä¹‰</h3>
                <p>å¯¹äºé•¿åº¦ä¸ºNçš„ç¦»æ•£ä¿¡å· $x[n]$ï¼ˆ$n = 0, 1, ..., N-1$ï¼‰ï¼Œå…¶DCT-IIï¼ˆæœ€å¸¸ç”¨çš„DCTç±»å‹ï¼‰å®šä¹‰ä¸ºï¼š</p>

                <div class="formula-box">
                    <p><strong>æ­£å˜æ¢ï¼ˆæ—¶åŸŸ â†’ é¢‘åŸŸï¼‰ï¼š</strong></p>
                    $$X[m] = \sqrt{\frac{2}{N}} c[m] \sum_{n=0}^{N-1} x[n] \cos\left(\frac{\pi m (n + 0.5)}{N}\right)$$
                    
                    <p style="margin-top: 15px;"><strong>é€†å˜æ¢ï¼ˆé¢‘åŸŸ â†’ æ—¶åŸŸï¼‰ï¼š</strong></p>
                    $$x[n] = \sqrt{\frac{2}{N}} \sum_{m=0}^{N-1} c[m] X[m] \cos\left(\frac{\pi m (n + 0.5)}{N}\right)$$
                    
                    <p style="margin-top: 15px;">å…¶ä¸­ï¼Œç³»æ•° $c[m]$ å®šä¹‰ä¸ºï¼š</p>
                    $$c[m] = \begin{cases} 
                        \frac{1}{\sqrt{2}}, & m = 0 \\
                        1, & m > 0
                    \end{cases}$$
                </div>

                <h4>å…¬å¼ç†è§£</h4>
                <ul>
                    <li><strong>$X[m]$</strong>ï¼šç¬¬mä¸ªDCTç³»æ•°ï¼Œè¡¨ç¤ºä¿¡å·ä¸­é¢‘ç‡ä¸º $m$ çš„ä½™å¼¦æˆåˆ†çš„å¼ºåº¦</li>
                    <li><strong>$x[n]$</strong>ï¼šåŸå§‹æ—¶åŸŸä¿¡å·çš„ç¬¬nä¸ªé‡‡æ ·ç‚¹</li>
                    <li><strong>$N$</strong>ï¼šä¿¡å·é•¿åº¦ï¼ˆé‡‡æ ·ç‚¹æ•°ï¼‰</li>
                    <li><strong>$c[m]$</strong>ï¼šå½’ä¸€åŒ–ç³»æ•°ï¼Œç¡®ä¿å˜æ¢çš„æ­£äº¤æ€§ï¼ˆèƒ½é‡å®ˆæ’ï¼‰</li>
                    <li><strong>ä½™å¼¦é¡¹</strong>ï¼š$\cos\left(\frac{\pi m (n + 0.5)}{N}\right)$ æ˜¯DCTçš„åŸºå‡½æ•°ï¼Œmè¶Šå¤§ï¼Œé¢‘ç‡è¶Šé«˜</li>
                </ul>

                <h3>DCTåŸºå‡½æ•°å¯è§†åŒ–</h3>
                <p>
                    DCTå°†ä¿¡å·åˆ†è§£ä¸ºä¸€ç³»åˆ—ä¸åŒé¢‘ç‡çš„ä½™å¼¦æ³¢ã€‚ä¸‹å›¾å±•ç¤ºäº†å‰8ä¸ªDCTåŸºå‡½æ•°ï¼ˆN=64çš„æƒ…å†µï¼‰ã€‚
                    <strong>æ³¨æ„è§‚å¯Ÿï¼š</strong>m=0å¯¹åº”ç›´æµåˆ†é‡ï¼ˆå¸¸æ•°ï¼‰ï¼Œéšç€må¢å¤§ï¼ŒæŒ¯è¡é¢‘ç‡é€æ¸æé«˜ã€‚
                </p>

                <div class="concept-diagram">
                    <canvas id="dctBasisCanvas" width="800" height="600"></canvas>
                    <p style="margin-top: 15px; color: #666;">
                        <strong>å›¾ç¤ºè¯´æ˜ï¼š</strong>æ¯æ¡æ›²çº¿ä»£è¡¨ä¸€ä¸ªDCTåŸºå‡½æ•°ã€‚è“è‰²è¡¨ç¤ºæ­£å€¼ï¼Œçº¢è‰²è¡¨ç¤ºè´Ÿå€¼ã€‚
                        DCTé€šè¿‡è¿™äº›åŸºå‡½æ•°çš„çº¿æ€§ç»„åˆæ¥è¡¨ç¤ºåŸå§‹ä¿¡å·ã€‚
                    </p>
                </div>

                <h3>DCTçš„èƒ½é‡é›†ä¸­ç‰¹æ€§</h3>
                <p>
                    DCTçš„ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯<strong>èƒ½é‡é›†ä¸­</strong>ï¼šå¯¹äºå¤§å¤šæ•°å®é™…ä¿¡å·ï¼ˆå¦‚éŸ³é¢‘ã€å›¾åƒï¼‰ï¼Œ
                    ç»è¿‡DCTå˜æ¢åï¼Œä¿¡å·çš„èƒ½é‡ä¸»è¦é›†ä¸­åœ¨ä½é¢‘ç³»æ•°ï¼ˆmè¾ƒå°çš„ä½ç½®ï¼‰ã€‚
                    è¿™æ„å‘³ç€é«˜é¢‘ç³»æ•°é€šå¸¸å¾ˆå°ï¼Œå¯ä»¥è¢«ä¸¢å¼ƒæˆ–ç²—ç•¥é‡åŒ–ï¼Œè€Œä¸ä¼šæ˜¾è‘—å½±å“ä¿¡å·è´¨é‡ã€‚
                </p>

                <!-- èƒ½é‡é›†ä¸­åŠ¨æ€å±•ç¤º -->
                <div class="step-visualization">
                    <h4 style="text-align: center; color: #5a67d8; margin-bottom: 20px;">èƒ½é‡é›†ä¸­åŠ¨æ€å±•ç¤º</h4>
                    <canvas id="energyConcentrationCanvas" width="1000" height="300"></canvas>
                    <p style="text-align: center; color: #666; margin-top: 15px;">
                        å·¦ï¼šæ—¶åŸŸä¿¡å· | å³ï¼šDCTç³»æ•°ï¼ˆèƒ½é‡é›†ä¸­åœ¨å‰å‡ ä¸ªï¼‰
                    </p>
                </div>

                <div class="warning-box">
                    <strong>âš ï¸ æ³¨æ„ï¼š</strong>
                    <p>
                        DCTçš„èƒ½é‡é›†ä¸­ç‰¹æ€§å¯¹å¹³æ»‘ã€ç¼“æ…¢å˜åŒ–çš„ä¿¡å·æ•ˆæœæœ€å¥½ã€‚
                        å¯¹äºçªå˜ã€å™ªå£°è¾ƒå¤šçš„ä¿¡å·ï¼Œèƒ½é‡ä¼šåˆ†æ•£åˆ°æ›´å¤šçš„é«˜é¢‘ç³»æ•°ä¸­ï¼Œå‹ç¼©æ•ˆæœä¼šä¸‹é™ã€‚
                        è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå‹ç¼©ç®—æ³•é€šå¸¸ä¼šå¯¹ä¿¡å·è¿›è¡Œé¢„å¤„ç†ï¼ˆå¦‚å»å™ªã€å¹³æ»‘ï¼‰çš„åŸå› ã€‚
                    </p>
                </div>

                <h3>MATLABä¸­çš„DCTå®ç°</h3>
                <p>åœ¨MATLABä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®çš„<code>dct()</code>å’Œ<code>idct()</code>å‡½æ•°ï¼š</p>

                <div class="code-block"><code><span class="code-comment">% å¯¹ä¿¡å·xè¿›è¡ŒDCTå˜æ¢</span>
X = dct(x);

<span class="code-comment">% å¯¹DCTç³»æ•°Xè¿›è¡Œé€†å˜æ¢ï¼Œé‡å»ºä¿¡å·</span>
x_reconstructed = idct(X);

<span class="code-comment">% éªŒè¯èƒ½é‡å®ˆæ’ï¼ˆParsevalå®šç†ï¼‰</span>
energy_time = sum(x.^2);   <span class="code-comment">% æ—¶åŸŸèƒ½é‡</span>
energy_freq = sum(X.^2);   <span class="code-comment">% é¢‘åŸŸèƒ½é‡</span>
<span class="code-comment">% å¯¹äºæ­£äº¤å˜æ¢ï¼Œä¸¤è€…åº”è¯¥ç›¸ç­‰</span></code></div>

                <div class="tip-box">
                    <strong>ğŸ’¡ æ·±å…¥ç†è§£ï¼š</strong>
                    <p>
                        DCTå¯ä»¥çœ‹ä½œæ˜¯å¯¹ä¿¡å·è¿›è¡Œå¶å¯¹ç§°å»¶æ‹“åå†åšDFTã€‚è¿™ç§å»¶æ‹“æ–¹å¼æ¶ˆé™¤äº†ä¿¡å·åœ¨è¾¹ç•Œå¤„çš„ä¸è¿ç»­æ€§ï¼Œ
                        å‡å°‘äº†"é¢‘è°±æ³„æ¼"ç°è±¡ï¼Œä½¿å¾—èƒ½é‡æ›´é›†ä¸­åœ¨ä½é¢‘éƒ¨åˆ†ã€‚
                        è¿™å°±æ˜¯ä¸ºä»€ä¹ˆDCTåœ¨å‹ç¼©ä¸­è¡¨ç°ä¼˜äºDFTçš„æ•°å­¦åŸå› ã€‚
                    </p>
                </div>
            </section>

            <!-- 4. å®Œæ•´å¤„ç†æµç¨‹ -->
            <section id="process">
                <h2>å››ã€éŸ³é¢‘å‹ç¼©å¤„ç†æµç¨‹</h2>

                <p>
                    éŸ³é¢‘å‹ç¼©ç³»ç»ŸåŒ…å«7ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æœ‰ç‰¹å®šçš„ä½œç”¨ã€‚
                    ä¸‹å›¾å±•ç¤ºäº†å®Œæ•´çš„å‹ç¼©ä¸é‡å»ºæµç¨‹ï¼š
                </p>

                <!-- æ”¹è¿›çš„åŠ¨æ€æµç¨‹å›¾ - ç§‘å­¦ç¤ºæ„å›¾é£æ ¼ -->
                <div class="animated-flowchart">
                    <h3 style="text-align: center; color: #5a67d8; margin-bottom: 30px;">
                        éŸ³é¢‘å‹ç¼©ä¸é‡å»ºæµç¨‹
                    </h3>
                    
                    <div class="flow-container">
                        <div class="flow-step">
                            <div class="flow-icon">æ­¥éª¤1</div>
                            <div class="flow-content">
                                <h4>è¯»å–éŸ³é¢‘å¹¶åˆ†æ®µ</h4>
                                <p>å°†é•¿éŸ³é¢‘ä¿¡å·åˆ†å‰²æˆå›ºå®šé•¿åº¦çš„çŸ­ç‰‡æ®µï¼ˆå¦‚512ä¸ªé‡‡æ ·ç‚¹ï¼‰ï¼Œä¾¿äºåˆ†å—å¤„ç†ã€‚x[n] â†’ x_seg[k][n]</p>
                            </div>
                            <div class="flow-connector"></div>
                        </div>

                        <div class="flow-step">
                            <div class="flow-icon">æ­¥éª¤2</div>
                            <div class="flow-content">
                                <h4>DCTå˜æ¢</h4>
                                <p>å¯¹æ¯ä¸ªéŸ³é¢‘ç‰‡æ®µè¿›è¡ŒDCTå˜æ¢ï¼Œä»æ—¶åŸŸè½¬æ¢ä¸ºé¢‘åŸŸè¡¨ç¤ºã€‚x_seg â†’ X[m]</p>
                            </div>
                            <div class="flow-connector"></div>
                        </div>

                        <div class="flow-step">
                            <div class="flow-icon">æ­¥éª¤3</div>
                            <div class="flow-content">
                                <h4>èƒ½é‡é˜ˆå€¼å¤„ç†</h4>
                                <p>æ ¹æ®èƒ½é‡é˜ˆå€¼ä¿ç•™é‡è¦ç³»æ•°ï¼Œä¸¢å¼ƒèƒ½é‡å°çš„ç³»æ•°ã€‚ä¿ç•™99%èƒ½é‡çš„ç³»æ•°ï¼Œå…¶ä½™ç½®é›¶</p>
                            </div>
                            <div class="flow-connector"></div>
                        </div>

                        <div class="flow-step">
                            <div class="flow-icon">æ­¥éª¤4</div>
                            <div class="flow-content">
                                <h4>é‡åŒ–ä¸è§£é‡åŒ–</h4>
                                <p>å°†è¿ç»­å€¼æ˜ å°„åˆ°ç¦»æ•£çº§åˆ«ï¼Œè¿›ä¸€æ­¥å‡å°‘å­˜å‚¨ç©ºé—´ã€‚X_cont â†’ X_quant â†’ X_dequant</p>
                            </div>
                            <div class="flow-connector"></div>
                        </div>

                        <div class="flow-step">
                            <div class="flow-icon">æ­¥éª¤5</div>
                            <div class="flow-content">
                                <h4>é€†DCTå˜æ¢</h4>
                                <p>å°†å¤„ç†åçš„é¢‘åŸŸç³»æ•°è½¬æ¢å›æ—¶åŸŸä¿¡å·ã€‚X_processed â†’ x_reconstructed</p>
                            </div>
                            <div class="flow-connector"></div>
                        </div>

                        <div class="flow-step">
                            <div class="flow-icon">æ­¥éª¤6</div>
                            <div class="flow-content">
                                <h4>åˆå¹¶é‡å»º</h4>
                                <p>å°†æ‰€æœ‰ç‰‡æ®µæ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆå®Œæ•´çš„é‡å»ºéŸ³é¢‘ã€‚x_seg_recon â†’ x_final</p>
                            </div>
                            <div class="flow-connector"></div>
                        </div>

                        <div class="flow-step">
                            <div class="flow-icon">æ­¥éª¤7</div>
                            <div class="flow-content">
                                <h4>æ€§èƒ½åˆ†æ</h4>
                                <p>è®¡ç®—å‹ç¼©æ¯”å’Œå‡æ–¹è¯¯å·®ï¼Œè¯„ä¼°å‹ç¼©æ•ˆæœã€‚MSE = mean((x_original - x_final)Â²)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="analysis-box">
                    <h4>ğŸ¯ å…³é”®ç†è§£ç‚¹</h4>
                    <ul>
                        <li><strong>å‹ç¼©å‘ç”Ÿåœ¨å“ªé‡Œï¼Ÿ</strong>ä¸»è¦åœ¨æ­¥éª¤3ï¼ˆèƒ½é‡é˜ˆå€¼ï¼‰å’Œæ­¥éª¤4ï¼ˆé‡åŒ–ï¼‰ï¼Œè¿™ä¸¤æ­¥ä¸¢å¼ƒäº†ä¿¡å·çš„éƒ¨åˆ†ä¿¡æ¯</li>
                        <li><strong>ä¸ºä»€ä¹ˆè¦åˆ†æ®µï¼Ÿ</strong>é€‚åº”ä¿¡å·çš„å±€éƒ¨ç‰¹æ€§ï¼Œå‡å°‘è®¡ç®—é‡ï¼Œæ”¯æŒå®æ—¶å¤„ç†</li>
                        <li><strong>å¦‚ä½•æƒè¡¡ï¼Ÿ</strong>é€šè¿‡è°ƒæ•´èƒ½é‡é˜ˆå€¼å’Œé‡åŒ–ä½æ•°æ¥å¹³è¡¡å‹ç¼©æ¯”å’ŒéŸ³è´¨</li>
                    </ul>
                </div>
            </section>

            <!-- 5. æ ¸å¿ƒæ¦‚å¿µè¯¦è§£ -->
            <section id="concepts">
                <h2>äº”ã€æ ¸å¿ƒæ¦‚å¿µè¯¦è§£</h2>

                <h3 id="concept-windowing">5.1 ä¿¡å·åˆ†æ®µ</h3>
                
                <!-- åˆ†æ®µåŠ¨æ€å±•ç¤º -->
                <div class="step-visualization">
                    <h4 style="text-align: center; color: #5a67d8; margin-bottom: 20px;">ä¿¡å·åˆ†æ®µè¿‡ç¨‹</h4>
                    <canvas id="windowingCanvas" width="1000" height="250"></canvas>
                    <p style="text-align: center; color: #666; margin-top: 15px;">
                        å°†é•¿éŸ³é¢‘ä¿¡å·åˆ†å‰²æˆå›ºå®šé•¿åº¦çš„ç‰‡æ®µï¼Œæ¯ä¸ªç‰‡æ®µç‹¬ç«‹å¤„ç†
                    </p>
                </div>

                <p><strong>ä¸ºä»€ä¹ˆè¦åˆ†æ®µï¼Ÿ</strong></p>
                <ul>
                    <li><strong>è®¡ç®—æ•ˆç‡ï¼š</strong>å¯¹æ•´ä¸ªéŸ³é¢‘åšDCTè®¡ç®—é‡å·¨å¤§ï¼Œåˆ†æ®µåå¯ä»¥å¹¶è¡Œå¤„ç†ï¼Œæé«˜æ•ˆç‡</li>
                    <li><strong>å±€éƒ¨ç‰¹æ€§ï¼š</strong>éŸ³é¢‘ä¿¡å·åœ¨ä¸åŒæ—¶é—´æ®µç‰¹æ€§ä¸åŒï¼Œåˆ†æ®µå¯ä»¥æ›´å¥½åœ°é€‚åº”å±€éƒ¨ç‰¹å¾</li>
                    <li><strong>å®æ—¶å¤„ç†ï¼š</strong>åœ¨æµåª’ä½“ç­‰åº”ç”¨ä¸­ï¼Œå¿…é¡»è¾¹æ¥æ”¶è¾¹å¤„ç†ï¼Œåˆ†æ®µæ˜¯å¿…ç„¶é€‰æ‹©</li>
                </ul>

                <div class="formula-box">
                    <p><strong>åˆ†æ®µå…¬å¼ï¼š</strong></p>
                    <p>å¯¹äºé•¿åº¦ä¸ºNçš„ä¿¡å·x[n]ï¼Œçª—å£å¤§å°ä¸ºWï¼Œå¯ä»¥åˆ†æˆ $\lfloor N/W \rfloor$ æ®µï¼š</p>
                    $$x_{seg}[k][n] = x[k \cdot W + n], \quad k = 0, 1, ..., \lfloor N/W \rfloor - 1, \quad n = 0, 1, ..., W-1$$
                </div>

                <h3 id="concept-threshold">5.2 èƒ½é‡é˜ˆå€¼å¤„ç†</h3>
                <p>
                    èƒ½é‡é˜ˆå€¼å¤„ç†æ˜¯DCTå‹ç¼©çš„æ ¸å¿ƒæ­¥éª¤ä¹‹ä¸€ã€‚å…¶æ€æƒ³æ˜¯ï¼š<strong>ä¿ç•™åŒ…å«ä¸»è¦èƒ½é‡çš„ç³»æ•°ï¼Œä¸¢å¼ƒèƒ½é‡å¾ˆå°çš„ç³»æ•°</strong>ã€‚
                </p>

                <!-- é˜ˆå€¼å¤„ç†åŠ¨æ€å±•ç¤º -->
                <div class="step-visualization">
                    <h4 style="text-align: center; color: #5a67d8; margin-bottom: 20px;">èƒ½é‡é˜ˆå€¼å¤„ç†è¿‡ç¨‹</h4>
                    <canvas id="thresholdingCanvas" width="1000" height="350"></canvas>
                    <p style="text-align: center; color: #666; margin-top: 15px;">
                        å·¦ï¼šåŸå§‹DCTç³»æ•° | å³ï¼šé˜ˆå€¼åŒ–åï¼ˆä¿ç•™95%èƒ½é‡ï¼‰
                    </p>
                </div>

                <h4>èƒ½é‡é˜ˆå€¼ç®—æ³•æ­¥éª¤</h4>
                <ol style="padding-left: 20px;">
                    <li>å¯¹æ¯ä¸ªç‰‡æ®µçš„DCTç³»æ•°æŒ‰ç»å¯¹å€¼å¤§å°é™åºæ’åº</li>
                    <li>è®¡ç®—æ€»èƒ½é‡ï¼š$E_{total} = \sum_{m=0}^{N-1} X[m]^2$</li>
                    <li>ä»æœ€å¤§ç³»æ•°å¼€å§‹ç´¯åŠ èƒ½é‡ï¼Œç›´åˆ°ç´¯ç§¯èƒ½é‡è¾¾åˆ°é˜ˆå€¼ï¼ˆå¦‚99%æ€»èƒ½é‡ï¼‰</li>
                    <li>ä¿ç•™è¿™äº›é‡è¦ç³»æ•°ï¼Œå°†å…¶ä½™ç³»æ•°ç½®é›¶</li>
                </ol>

                <div class="formula-box">
                    <p><strong>èƒ½é‡é˜ˆå€¼æ¡ä»¶ï¼š</strong></p>
                    $$\sum_{i=0}^{k} X_{sorted}[i]^2 \geq \text{perc} \times E_{total}$$
                    <p>ä¿ç•™å‰k+1ä¸ªæœ€å¤§ç³»æ•°ï¼Œå…¶ä½™ç½®é›¶ã€‚è¿™é‡Œpercæ˜¯èƒ½é‡é˜ˆå€¼ç™¾åˆ†æ¯”ï¼ˆå¦‚0.99è¡¨ç¤ºä¿ç•™99%èƒ½é‡ï¼‰ã€‚</p>
                </div>

                <h3 id="concept-quantization">5.3 é‡åŒ–ä¸è§£é‡åŒ–</h3>
                <p>
                    é‡åŒ–æ˜¯å°†è¿ç»­æˆ–é«˜ç²¾åº¦çš„æ•°å€¼æ˜ å°„åˆ°æœ‰é™ä¸ªç¦»æ•£çº§åˆ«çš„è¿‡ç¨‹ã€‚è¿™æ˜¯<strong>æœ‰æŸå‹ç¼©</strong>çš„å¦ä¸€ä¸ªå…³é”®æ­¥éª¤ã€‚
                </p>

                <!-- æ”¹è¿›çš„é‡åŒ–å¯è§†åŒ– - åŠ¨ç”»æ•ˆæœæ›´æµç•… -->
                <div class="quantization-demo">
                    <div class="quant-column">
                        <div class="quant-title">åŸå§‹è¿ç»­å€¼</div>
                        <div class="quant-visual">
                            <div class="continuous-spectrum">
                                <div class="value-indicator">
                                    <div class="value-badge">3.7842</div>
                                    <div class="value-arrow"></div>
                                </div>
                                <div class="spectrum-bar"></div>
                            </div>
                        </div>
                        <div class="quant-value-display">è¿ç»­å€¼: 3.7842</div>
                    </div>

                    <div class="quant-arrow">â†’</div>

                    <div class="quant-column">
                        <div class="quant-title">é‡åŒ–åˆ°ç¦»æ•£çº§åˆ«</div>
                        <div class="quant-visual">
                            <div class="discrete-levels" id="quantLevels"></div>
                        </div>
                        <div class="quant-value-display" style="color: #f56565;">é‡åŒ–çº§åˆ«: 4</div>
                    </div>

                    <div class="quant-arrow">â†’</div>

                    <div class="quant-column">
                        <div class="quant-title">è§£é‡åŒ–æ¢å¤</div>
                        <div class="quant-visual">
                            <div class="continuous-spectrum">
                                <div class="spectrum-bar"></div>
                            </div>
                        </div>
                        <div class="quant-value-display" style="color: #667eea;">è§£é‡åŒ–å€¼: 3.75</div>
                        <div class="quant-error-display">é‡åŒ–è¯¯å·®: 0.0342</div>
                    </div>
                </div>

                <h4>å‡åŒ€é‡åŒ–ç®—æ³•</h4>
                <p>æœ¬å®éªŒä½¿ç”¨<strong>å‡åŒ€é‡åŒ–</strong>ï¼Œå°†æ•°å€¼èŒƒå›´å‡åŒ€åˆ’åˆ†ä¸ºè‹¥å¹²çº§åˆ«ï¼š</p>

                <div class="formula-box">
                    <p><strong>é‡åŒ–å…¬å¼ï¼š</strong></p>
                    $$q_{value} = \text{round}\left(\frac{x}{q_{step}}\right)$$
                    
                    <p style="margin-top: 15px;"><strong>è§£é‡åŒ–å…¬å¼ï¼š</strong></p>
                    $$x_{dequant} = q_{value} \times q_{step}$$
                    
                    <p style="margin-top: 15px;">å…¶ä¸­é‡åŒ–æ­¥é•¿ä¸ºï¼š</p>
                    $$q_{step} = \frac{L}{2^{b-1} - 1}$$
                    <p>Læ˜¯é‡åŒ–åŒºé—´å¤§å°ï¼Œbæ˜¯é‡åŒ–ä½æ•°ï¼ˆå¦‚4ä½è¡¨ç¤º16ä¸ªçº§åˆ«ï¼‰</p>
                </div>

                <!-- æ”¹è¿›çš„é‡åŒ–çº§åˆ«å¯¹æ¯”å›¾ -->
                <div class="quantization-comparison">
                    <div class="comparison-panel">
                        <h4>2ä½é‡åŒ–ï¼ˆ4ä¸ªçº§åˆ«ï¼‰</h4>
                        <div class="quant-visual-panel">
                            <canvas id="quantization2bitCanvas" width="400" height="200"></canvas>
                            <div class="example-values">
                                <div style="text-align: center; font-weight: 700; color: #ed8936; margin-bottom: 12px; font-size: 1.05em;">é‡åŒ–ç¤ºä¾‹</div>
                                <div class="example-row">
                                    <span style="font-size: 0.95em;">åŸå§‹å€¼ï¼š</span>
                                    <span class="example-original">3.78</span>
                                    <span style="font-size: 1.2em; color: #999;">â†’</span>
                                    <span class="example-quantized">çº§åˆ«3</span>
                                    <span class="example-error">(è¯¯å·®Â±0.67)</span>
                                </div>
                                <div class="example-row">
                                    <span style="font-size: 0.95em;">åŸå§‹å€¼ï¼š</span>
                                    <span class="example-original">1.23</span>
                                    <span style="font-size: 1.2em; color: #999;">â†’</span>
                                    <span class="example-quantized">çº§åˆ«1</span>
                                    <span class="example-error">(è¯¯å·®Â±0.67)</span>
                                </div>
                                <div class="example-row">
                                    <span style="font-size: 0.95em;">åŸå§‹å€¼ï¼š</span>
                                    <span class="example-original">-2.45</span>
                                    <span style="font-size: 1.2em; color: #999;">â†’</span>
                                    <span class="example-quantized">çº§åˆ«-2</span>
                                    <span class="example-error">(è¯¯å·®Â±0.67)</span>
                                </div>
                            </div>
                        </div>
                        <div class="comparison-info">
                            <div class="info-item">
                                <div class="info-label">é‡åŒ–çº§åˆ«</div>
                                <div class="info-value">4</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">å­˜å‚¨ä½æ•°</div>
                                <div class="info-value">2 bits</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">é‡åŒ–è¯¯å·®</div>
                                <div class="info-value" style="color: #f56565;">å¤§</div>
                            </div>
                        </div>
                    </div>

                    <div class="comparison-panel">
                        <h4>8ä½é‡åŒ–ï¼ˆ256ä¸ªçº§åˆ«ï¼‰</h4>
                        <div class="quant-visual-panel">
                            <canvas id="quantization8bitCanvas" width="400" height="200"></canvas>
                            <div class="example-values">
                                <div style="text-align: center; font-weight: 700; color: #ed8936; margin-bottom: 12px; font-size: 1.05em;">é‡åŒ–ç¤ºä¾‹</div>
                                <div class="example-row">
                                    <span style="font-size: 0.95em;">åŸå§‹å€¼ï¼š</span>
                                    <span class="example-original">3.78</span>
                                    <span style="font-size: 1.2em; color: #999;">â†’</span>
                                    <span class="example-quantized">çº§åˆ«191</span>
                                    <span class="example-error">(è¯¯å·®Â±0.004)</span>
                                </div>
                                <div class="example-row">
                                    <span style="font-size: 0.95em;">åŸå§‹å€¼ï¼š</span>
                                    <span class="example-original">1.23</span>
                                    <span style="font-size: 1.2em; color: #999;">â†’</span>
                                    <span class="example-quantized">çº§åˆ«62</span>
                                    <span class="example-error">(è¯¯å·®Â±0.004)</span>
                                </div>
                                <div class="example-row">
                                    <span style="font-size: 0.95em;">åŸå§‹å€¼ï¼š</span>
                                    <span class="example-original">-2.45</span>
                                    <span style="font-size: 1.2em; color: #999;">â†’</span>
                                    <span class="example-quantized">çº§åˆ«-124</span>
                                    <span class="example-error">(è¯¯å·®Â±0.004)</span>
                                </div>
                            </div>
                        </div>
                        <div class="comparison-info">
                            <div class="info-item">
                                <div class="info-label">é‡åŒ–çº§åˆ«</div>
                                <div class="info-value">256</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">å­˜å‚¨ä½æ•°</div>
                                <div class="info-value">8 bits</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">é‡åŒ–è¯¯å·®</div>
                                <div class="info-value" style="color: #48bb78;">å°</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background: #f7fafc; border-radius: 8px; padding: 15px; margin-top: 20px; border-left: 4px solid #2d3748;">
                    <p style="margin: 0; color: #2d3748; font-size: 0.95em; line-height: 1.6;">
                        <strong>å›¾ç¤ºè¯´æ˜ï¼š</strong>æ¸å˜è‰²æ¡ä»£è¡¨é‡åŒ–çº§åˆ«ï¼Œé¢œè‰²è¶Šæ·±è¡¨ç¤ºçº§åˆ«è¶Šé«˜ã€‚<strong>2ä½é‡åŒ–</strong>åªæœ‰4ä¸ªç²—ç³™çš„é˜¶æ¢¯ï¼Œæ¯ä¸ªå€¼å¿…é¡»æ˜ å°„åˆ°æœ€è¿‘çš„çº§åˆ«ï¼Œå¯¼è‡´è¾ƒå¤§è¯¯å·®ï¼›<strong>8ä½é‡åŒ–</strong>æœ‰256ä¸ªç»†å¯†çš„é˜¶æ¢¯ï¼Œèƒ½æ›´ç²¾ç¡®åœ°è¡¨ç¤ºåŸå§‹å€¼ï¼Œè¯¯å·®å°å¾—å¤šã€‚
                    </p>
                </div>

                <h4>é‡åŒ–çš„å½±å“</h4>
                <ul>
                    <li><strong>å‡å°‘æ•°æ®é‡ï¼š</strong>é‡åŒ–åæ¯ä¸ªç³»æ•°åªéœ€bä½å­˜å‚¨ï¼Œè€Œä¸æ˜¯åŸæ¥çš„32ä½æˆ–64ä½æµ®ç‚¹æ•°</li>
                    <li><strong>å¼•å…¥è¯¯å·®ï¼š</strong>é‡åŒ–æ˜¯ä¸å¯é€†çš„ï¼Œä¼šå¼•å…¥é‡åŒ–è¯¯å·®ï¼ˆé‡åŒ–å™ªå£°ï¼‰</li>
                    <li><strong>æƒè¡¡é€‰æ‹©ï¼š</strong>é‡åŒ–ä½æ•°è¶Šå¤šï¼ˆå¦‚8ä½ï¼‰ï¼Œç²¾åº¦è¶Šé«˜ä½†å‹ç¼©æ¯”è¶Šå°ï¼›ä½æ•°è¶Šå°‘ï¼ˆå¦‚2ä½ï¼‰ï¼Œå‹ç¼©æ¯”è¶Šå¤§ä½†å¤±çœŸè¶Šä¸¥é‡</li>
                </ul>

                <h3 id="concept-mse">5.4 å‡æ–¹è¯¯å·®</h3>
                <p>
                    MSEç”¨äºå®šé‡è¯„ä¼°é‡å»ºä¿¡å·ä¸åŸå§‹ä¿¡å·çš„å·®å¼‚ï¼Œæ˜¯è¡¡é‡å‹ç¼©è´¨é‡çš„é‡è¦æŒ‡æ ‡ã€‚
                </p>

                <div class="formula-box">
                    <p><strong>MSEå®šä¹‰ï¼š</strong></p>
                    $$\text{MSE} = \frac{1}{N} \sum_{n=0}^{N-1} [x[n] - \hat{x}[n]]^2$$
                    <p>å…¶ä¸­x[n]æ˜¯åŸå§‹ä¿¡å·ï¼Œ$\hat{x}[n]$æ˜¯é‡å»ºä¿¡å·ï¼ŒNæ˜¯ä¿¡å·é•¿åº¦ã€‚</p>
                    
                    <p style="margin-top: 15px;"><strong>ç›¸å…³æŒ‡æ ‡ - ä¿¡å™ªæ¯”ï¼š</strong></p>
                    $$\text{SNR} = 10 \log_{10} \left(\frac{\sum_{n=0}^{N-1} x[n]^2}{\sum_{n=0}^{N-1} [x[n] - \hat{x}[n]]^2}\right) \text{ dB}$$
                </div>

                <ul>
                    <li><strong>MSEè¶Šå°ï¼š</strong>é‡å»ºä¿¡å·è¶Šæ¥è¿‘åŸå§‹ä¿¡å·ï¼Œå‹ç¼©è´¨é‡è¶Šå¥½</li>
                    <li><strong>SNRè¶Šå¤§ï¼š</strong>ä¿¡å·è´¨é‡è¶Šå¥½ï¼Œé€šå¸¸è®¤ä¸ºSNR > 20dBä¸ºå¯æ¥å—çš„éŸ³è´¨</li>
                    <li><strong>æƒè¡¡å…³ç³»ï¼š</strong>å‹ç¼©æ¯”æé«˜é€šå¸¸ä¼šå¯¼è‡´MSEå¢å¤§ã€SNRä¸‹é™</li>
                </ul>

                <h3 id="concept-compression">5.5 å‹ç¼©æ¯”</h3>
                <p>
                    å‹ç¼©æ¯”è¡¡é‡æ–‡ä»¶å¤§å°çš„å‡å°ç¨‹åº¦ï¼Œæ˜¯è¯„ä¼°å‹ç¼©æ•ˆç‡çš„å…³é”®æŒ‡æ ‡ã€‚
                </p>

                <div class="formula-box">
                    <p><strong>å‹ç¼©æ¯”è®¡ç®—ï¼š</strong></p>
                    $$\text{å‹ç¼©æ¯”} = \frac{\text{åŸå§‹æ–‡ä»¶å¤§å°}}{\text{å‹ç¼©åæ–‡ä»¶å¤§å°}} = \frac{\text{Size}_{original}}{\text{Size}_{compressed}}$$
                    
                    <p style="margin-top: 15px;">æˆ–è€…è¡¨ç¤ºä¸ºç™¾åˆ†æ¯”ï¼š</p>
                    $$\text{å‹ç¼©ç‡}(\%) = \left(1 - \frac{\text{Size}_{compressed}}{\text{Size}_{original}}\right) \times 100\%$$
                </div>

                <ul>
                    <li><strong>å‹ç¼©æ¯” > 1ï¼š</strong>å®ç°äº†å‹ç¼©ï¼ˆå¦‚5:1è¡¨ç¤ºå‹ç¼©åˆ°åŸæ¥çš„1/5ï¼‰</li>
                    <li><strong>å‹ç¼©ç‡ï¼š</strong>80%å‹ç¼©ç‡è¡¨ç¤ºæ–‡ä»¶å‡å°åˆ°åŸæ¥çš„20%ï¼ŒèŠ‚çœäº†80%ç©ºé—´</li>
                    <li><strong>å…¸å‹å€¼ï¼š</strong>MP3é€šå¸¸èƒ½è¾¾åˆ°10:1å·¦å³çš„å‹ç¼©æ¯”ï¼Œæœ¬å®éªŒæ ¹æ®å‚æ•°ä¸åŒå¯è¾¾3:1åˆ°10:1</li>
                </ul>

                <div class="tip-box">
                    <strong>ğŸ’¡ å‹ç¼©æ¯”ä¸éŸ³è´¨çš„æƒè¡¡</strong>
                    <p>
                        åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‹ç¼©æ¯”å’ŒéŸ³è´¨ä¹‹é—´å¯»æ‰¾å¹³è¡¡ç‚¹ã€‚
                        ä¸€èˆ¬æ¥è¯´ï¼Œèƒ½é‡é˜ˆå€¼è¶Šä½ï¼ˆä¿ç•™æ›´å°‘ç³»æ•°ï¼‰ã€é‡åŒ–ä½æ•°è¶Šå°‘ï¼Œå‹ç¼©æ¯”è¶Šé«˜ä½†éŸ³è´¨è¶Šå·®ã€‚
                        é€šè¿‡è°ƒæ•´è¿™äº›å‚æ•°ï¼Œå¯ä»¥ä¸ºä¸åŒåœºæ™¯é€‰æ‹©æœ€ä¼˜é…ç½®ï¼š
                        è¯­éŸ³é€šè¯å¯ä»¥æ¥å—è¾ƒä½éŸ³è´¨æ¢å–é«˜å‹ç¼©æ¯”ï¼Œè€ŒéŸ³ä¹æ’­æ”¾åˆ™éœ€è¦æ›´é«˜éŸ³è´¨ã€‚
                    </p>
                </div>
            </section>

            <!-- 6. äº¤äº’å¼DCTå‹ç¼©æ¼”ç¤º -->
            <section id="demo">
                <h2>å…­ã€äº¤äº’å¼DCTå‹ç¼©æ¼”ç¤º</h2>
                <p>
                    é€šè¿‡ä¸‹é¢çš„äº¤äº’å¼æ¼”ç¤ºï¼Œä½ å¯ä»¥ç›´è§‚åœ°çœ‹åˆ°ä¸åŒå‹ç¼©å‚æ•°å¯¹ä¿¡å·é‡å»ºçš„å½±å“ã€‚
                    è°ƒæ•´èƒ½é‡é˜ˆå€¼å’Œé‡åŒ–ä½æ•°ï¼Œè§‚å¯Ÿå‹ç¼©æ¯”ã€é‡å»ºè¯¯å·®å’Œä¿¡å·è´¨é‡çš„å˜åŒ–ã€‚
                </p>

                <div class="demo-container">
                    <div class="demo-controls">
                        <div class="control-group">
                            <label>
                                ğŸšï¸ èƒ½é‡é˜ˆå€¼ï¼ˆä¿ç•™çš„èƒ½é‡ç™¾åˆ†æ¯”ï¼‰ï¼š
                                <span class="value-display" id="energyValue">95</span>%
                            </label>
                            <input type="range" id="energySlider" min="80" max="99.5" step="0.5" value="95">
                        </div>

                        <div class="control-group">
                            <label>
                                ğŸ”¢ é‡åŒ–ä½æ•°ï¼š
                                <span class="value-display" id="bitsValue">6</span> bits
                            </label>
                            <input type="range" id="bitsSlider" min="2" max="10" step="1" value="6">
                        </div>
                    </div>

                    <div class="demo-stats">
                        <div class="stat-card">
                            <h4>ğŸ“Š ä¿ç•™ç³»æ•°æ•°é‡</h4>
                            <div class="stat-value" id="coeffCount">-</div>
                        </div>
                        <div class="stat-card">
                            <h4>ğŸ“¦ å‹ç¼©æ¯”</h4>
                            <div class="stat-value" id="compressionRatio">-</div>
                        </div>
                        <div class="stat-card">
                            <h4>ğŸ“‰ å‡æ–¹è¯¯å·®</h4>
                            <div class="stat-value" id="mseValue">-</div>
                        </div>
                    </div>

                    <div class="charts-side-by-side">
                        <div class="chart-container">
                            <h4>ğŸµ ä¿¡å·å¯¹æ¯”</h4>
                            <canvas id="signalCanvas" width="450" height="280"></canvas>
                            <p style="text-align: center; color: #666; margin-top: 10px; font-size: 0.85em;">
                                è“è‰²ï¼šåŸå§‹ä¿¡å· | çº¢è‰²ï¼šé‡å»ºä¿¡å·
                            </p>
                        </div>

                        <div class="chart-container">
                            <h4>ğŸ“Š DCTç³»æ•°</h4>
                            <canvas id="coeffCanvas" width="450" height="280"></canvas>
                            <p style="text-align: center; color: #666; margin-top: 10px; font-size: 0.85em;">
                                ç»¿è‰²ï¼šä¿ç•™ | ç°è‰²ï¼šä¸¢å¼ƒ
                            </p>
                        </div>
                    </div>
                </div>

                <div class="analysis-box">
                    <h4>ğŸ” è§‚å¯Ÿä¸æ€è€ƒ</h4>
                    <ul>
                        <li><strong>èƒ½é‡é˜ˆå€¼çš„å½±å“ï¼š</strong>é™ä½èƒ½é‡é˜ˆå€¼ï¼ˆå¦‚ä»99%é™åˆ°85%ï¼‰ï¼Œä¼šæ˜¾è‘—å‡å°‘ä¿ç•™çš„ç³»æ•°æ•°é‡ï¼Œæé«˜å‹ç¼©æ¯”ï¼Œä½†MSEä¼šå¢å¤§</li>
                        <li><strong>é‡åŒ–ä½æ•°çš„å½±å“ï¼š</strong>å‡å°‘é‡åŒ–ä½æ•°ï¼ˆå¦‚ä»8ä½é™åˆ°3ä½ï¼‰ï¼Œå‹ç¼©æ¯”è¿›ä¸€æ­¥æé«˜ï¼Œä½†é‡åŒ–è¯¯å·®å¢å¤§ï¼Œä¿¡å·å¤±çœŸæ›´æ˜æ˜¾</li>
                        <li><strong>æœ€ä½³å®è·µï¼š</strong>å°è¯•æ‰¾åˆ°ä¸€ä¸ªå‚æ•°ç»„åˆï¼Œä½¿å¾—å‹ç¼©æ¯”è¾ƒé«˜ï¼ˆå¦‚5:1ä»¥ä¸Šï¼‰ï¼ŒåŒæ—¶MSEä¿æŒè¾ƒå°ï¼ˆå¦‚< 0.01ï¼‰</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <strong>âš ï¸ æ³¨æ„ï¼š</strong>
                    <p>
                        æœ¬æ¼”ç¤ºä½¿ç”¨çš„æ˜¯æ¨¡æ‹Ÿä¿¡å·ï¼ˆæ­£å¼¦æ³¢+çº¿æ€§è¶‹åŠ¿ï¼‰ã€‚å®é™…éŸ³é¢‘ä¿¡å·æ›´å¤æ‚ï¼Œå‹ç¼©æ•ˆæœä¼šæœ‰æ‰€ä¸åŒã€‚
                        ä½†æ ¸å¿ƒåŸç†æ˜¯ä¸€è‡´çš„ï¼šé€šè¿‡DCTå˜æ¢ã€èƒ½é‡é˜ˆå€¼å’Œé‡åŒ–æ¥å®ç°æœ‰æŸå‹ç¼©ã€‚
                    </p>
                </div>
            </section>

            <!-- 7. å®éªŒé¡¹ç›®è¯´æ˜ -->
            <section id="project">
                <h2>ä¸ƒã€å®éªŒé¡¹ç›®è¯´æ˜</h2>

                <h3>ğŸ“‹ é¡¹ç›®æ¦‚è¿°</h3>
                <p>
                    æœ¬é¡¹ç›®è¦æ±‚å®ŒæˆåŸºäºDCTçš„éŸ³é¢‘å‹ç¼©ç³»ç»Ÿçš„MATLABå®ç°ã€‚ç³»ç»ŸåŒ…å«7ä¸ªæ¨¡å—ï¼ˆex1åˆ°ex7ï¼‰ï¼Œ
                    éœ€è¦æ ¹æ®ä»£ç ä¸­çš„æç¤ºå¡«å†™æ ‡è®°ä¸º<code>?</code>çš„éƒ¨åˆ†ã€‚
                </p>

                <h3>ğŸ“ æ ¸å¿ƒæ–‡ä»¶</h3>
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>ğŸ¯ ex0_all.m</h4>
                        <p>ä¸»å‡½æ•°ï¼Œè°ƒç”¨æ‰€æœ‰æ¨¡å—å®Œæˆæ•´ä¸ªæµç¨‹</p>
                    </div>
                    <div class="comparison-card">
                        <h4>ğŸ“ ex1-ex7.m</h4>
                        <p>7ä¸ªå¤„ç†æ¨¡å—ï¼Œå¯¹åº”7ä¸ªæ­¥éª¤</p>
                    </div>
                    <div class="comparison-card">
                        <h4>âœ… test_project1.p</h4>
                        <p>è‡ªåŠ¨æ‰¹æ”¹ç¨‹åºï¼ˆåŠ å¯†æ–‡ä»¶ï¼‰</p>
                    </div>
                </div>

                <h3>ğŸš€ å®éªŒæ­¥éª¤</h3>
                <ol style="padding-left: 20px; line-height: 2;">
                    <li><strong>ç†è§£åŸç†ï¼š</strong>ä»”ç»†é˜…è¯»æœ¬æ‰‹å†Œï¼Œç†è§£DCTå‹ç¼©çš„æ•´ä½“æµç¨‹å’Œå…³é”®æ¦‚å¿µ</li>
                    <li><strong>è®¾ç½®ç¯å¢ƒï¼š</strong>å°†æ‰€æœ‰å®éªŒæ–‡ä»¶æ”¾åœ¨åŒä¸€ç›®å½•ï¼Œè®¾ç½®MATLABå½“å‰æ–‡ä»¶å¤¹</li>
                    <li><strong>å®Œæˆä»£ç ï¼š</strong>æŒ‰é¡ºåºå®Œæˆex1åˆ°ex7ï¼Œå¡«å†™æ ‡è®°ä¸º<code>?</code>çš„ä»£ç </li>
                    <li><strong>æµ‹è¯•éªŒè¯ï¼š</strong>è¿è¡Œtest_project1.pæ£€æŸ¥å„æ¨¡å—æ­£ç¡®æ€§</li>
                    <li><strong>å®Œæ•´è¿è¡Œï¼š</strong>è¿è¡Œex0_all.mè§‚å¯Ÿå®Œæ•´æµç¨‹ï¼Œå°è¯•è°ƒæ•´å‚æ•°</li>
                    <li><strong>æäº¤å®éªŒï¼š</strong>è·å¾—åŠ å¯†æˆç»©ï¼Œå‹ç¼©ä¸ºã€å­¦å·_å§“å.zipã€‘æäº¤</li>
                </ol>

                <div class="tip-box">
                    <strong>ğŸ“‹ é‡è¦æé†’</strong>
                    <ul>
                        <li>âœ… å¯ä»¥å°ç»„åˆä½œï¼ˆä¸è¶…è¿‡6äººï¼‰ï¼Œä½†æ¯äººéœ€ç‹¬ç«‹æäº¤</li>
                        <li>â° å¿…é¡»åœ¨å®éªŒè¯¾ç»“æŸå‰å®Œæˆå¹¶æäº¤ï¼Œä¸å¯å»¶æœŸ</li>
                        <li>ğŸ” test_project1.på¯¹æ¯ä¸ªæ¨¡å—ç‹¬ç«‹æ‰¹æ”¹ï¼Œå¯è·³è¿‡æ— æ³•å®Œæˆçš„éƒ¨åˆ†</li>
                        <li>ğŸ’¡ é¼“åŠ±åœ¨ç†è§£åŸç†çš„åŸºç¡€ä¸Šè‡ªå·±ç¼–å†™ä»£ç </li>
                    </ul>
                </div>

                <h3>ğŸ“ è¿›ä¸€æ­¥æ¢ç´¢ï¼ˆå¯é€‰ï¼‰</h3>
                <div class="comparison-grid four-columns">
                    <div class="comparison-card">
                        <h4>ğŸ”¬ å‚æ•°å®éªŒ</h4>
                        <p>å°è¯•ä¸åŒçš„çª—å£å¤§å°ã€èƒ½é‡é˜ˆå€¼ï¼Œè§‚å¯Ÿå¯¹å‹ç¼©æ•ˆæœçš„å½±å“</p>
                    </div>
                    <div class="comparison-card">
                        <h4>ğŸ”„ çª—å£é‡å </h4>
                        <p>å®ç°é‡å ç›¸åŠ æ–¹æ³•ï¼Œå‡å°‘åˆ†å—è¾¹ç•Œçš„ä¸è¿ç»­</p>
                    </div>
                    <div class="comparison-card">
                        <h4>ğŸ“Š DCT vs DFT</h4>
                        <p>å¯¹æ¯”DCTä¸DFTçš„å‹ç¼©æ€§èƒ½å·®å¼‚</p>
                    </div>
                    <div class="comparison-card">
                        <h4>ğŸ¯ å¿ƒç†å£°å­¦</h4>
                        <p>æ·»åŠ å¿ƒç†å£°å­¦æ¨¡å‹ï¼Œæ ¹æ®äººè€³æ•æ„Ÿåº¦è°ƒæ•´é‡åŒ–</p>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>âš ï¸ å­¦æœ¯è¯šä¿¡æé†’</strong>
                    <p>
                        æœ¬å®éªŒæ—¨åœ¨åŠ æ·±ä½ å¯¹DCTå˜æ¢å’ŒéŸ³é¢‘å‹ç¼©åŸç†çš„ç†è§£ã€‚
                        è™½ç„¶å¯ä»¥å°ç»„è®¨è®ºï¼Œä½†è¯·åŠ¡å¿…ç¡®ä¿ä½ ç†è§£æ¯ä¸€è¡Œä»£ç çš„å«ä¹‰ã€‚
                        å®éªŒä¸­å­¦åˆ°çš„çŸ¥è¯†å’ŒæŠ€èƒ½å°†åœ¨åç»­è¯¾ç¨‹å’Œå®é™…å·¥ä½œä¸­éå¸¸æœ‰ç”¨ã€‚
                    </p>
                </div>
            </section>

            <!-- é¡µè„š -->
            <section style="text-align: center; padding: 30px; background: linear-gradient(135deg, #f7fafc 0%, #ffffff 100%); border-radius: 10px; margin-top: 50px; border: 2px solid #9f7aea;">
                <p style="color: #5a67d8; font-size: 1em; font-weight: 600; margin-bottom: 8px;">
                    å—äº¬å·¥ä¸šå¤§å­¦æµ¦æ±Ÿå­¦é™¢ | è®¡ç®—æœºä¸é€šä¿¡å·¥ç¨‹ä¸“ä¸š
                </p>
                <p style="color: #667eea; font-size: 0.95em; margin-bottom: 5px;">
                    é€šä¿¡å·¥ç¨‹ | DSPè¯¾ç¨‹å®è·µ
                </p>
                <p style="color: #999; font-size: 0.85em; margin-top: 15px;">
                    æ•°å­—ä¿¡å·å¤„ç†è¯¾ç¨‹å®éªŒ - åŸºäºDCTåŸç†çš„éŸ³é¢‘å‹ç¼©
                </p>
            </section>
        </div>
    </div>

    <script>
        // ========== ç«–ç›´è¿›åº¦æ¡åŠŸèƒ½ - ä»…é’ˆå¯¹æ ¸å¿ƒæ¦‚å¿µéƒ¨åˆ† ==========
        function initVerticalProgress() {
            const progressBar = document.querySelector('.vertical-progress');
            const markers = document.querySelectorAll('.progress-marker');
            
            // æ ¸å¿ƒæ¦‚å¿µçš„å­éƒ¨åˆ†
            const conceptSections = [
                document.getElementById('concept-windowing'),
                document.getElementById('concept-threshold'),
                document.getElementById('concept-quantization'),
                document.getElementById('concept-mse'),
                document.getElementById('concept-compression')
            ];

            // ç‚¹å‡»æ ‡è®°è·³è½¬
            markers.forEach(marker => {
                marker.addEventListener('click', () => {
                    const sectionId = marker.getAttribute('data-section');
                    const section = document.getElementById(sectionId);
                    if (section) {
                        section.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // æ»šåŠ¨æ—¶æ›´æ–°è¿›åº¦
            function updateProgress() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                // æ£€æŸ¥æ˜¯å¦åœ¨æ ¸å¿ƒæ¦‚å¿µéƒ¨åˆ†
                const conceptsSection = document.getElementById('concepts');
                if (!conceptsSection) return;
                
                const conceptsTop = conceptsSection.offsetTop;
                const conceptsBottom = conceptsTop + conceptsSection.offsetHeight;
                
                // åªåœ¨æ ¸å¿ƒæ¦‚å¿µéƒ¨åˆ†æ˜¾ç¤ºè¿›åº¦æ¡
                if (scrollTop >= conceptsTop - 200 && scrollTop <= conceptsBottom + 200) {
                    progressBar.style.opacity = '1';
                    
                    // è®¡ç®—åœ¨æ ¸å¿ƒæ¦‚å¿µéƒ¨åˆ†çš„ç›¸å¯¹ä½ç½®
                    const relativeScroll = scrollTop - conceptsTop;
                    const sectionHeight = conceptsSection.offsetHeight;
                    const scrollPercent = Math.min(100, Math.max(0, (relativeScroll / sectionHeight) * 100));
                    
                    document.documentElement.style.setProperty('--scroll-progress', scrollPercent + '%');
                    
                    // æ›´æ–°activeæ ‡è®°
                    let currentSubsection = '';
                    conceptSections.forEach((section, index) => {
                        if (section) {
                            const sectionTop = section.offsetTop;
                            if (scrollTop >= sectionTop - 200) {
                                currentSubsection = section.getAttribute('id');
                            }
                        }
                    });
                    
                    markers.forEach(marker => {
                        marker.classList.remove('active');
                        if (marker.getAttribute('data-section') === currentSubsection) {
                            marker.classList.add('active');
                        }
                    });
                } else {
                    progressBar.style.opacity = '0';
                }
            }

            // æ·»åŠ CSSå˜é‡æ”¯æŒ
            const style = document.createElement('style');
            style.textContent = `
                .vertical-progress {
                    transition: opacity 0.3s ease;
                }
                .vertical-progress::before {
                    height: var(--scroll-progress, 0%) !important;
                }
            `;
            document.head.appendChild(style);

            window.addEventListener('scroll', updateProgress);
            updateProgress();
        }

        // ========== DCTåŸºå‡½æ•°å¯è§†åŒ– ==========
        function drawDCTBasis() {
            const canvas = document.getElementById('dctBasisCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const N = 64;
            const numBasis = 8;
            const padding = 60;
            const plotWidth = width - 2 * padding;
            const plotHeight = (height - 2 * padding) / numBasis;

            ctx.clearRect(0, 0, width, height);

            // è‰²ç›²å‹å¥½çš„é¢œè‰²æ–¹æ¡ˆ
            const positiveColor = '#667eea';  // ç´«è“è‰²
            const negativeColor = '#f56565';  // çº¢è‰²

            for (let m = 0; m < numBasis; m++) {
                const offsetY = padding + m * plotHeight;
                
                const basis = [];
                const c_m = (m === 0) ? 1 / Math.sqrt(2) : 1;
                for (let n = 0; n < N; n++) {
                    basis.push(Math.sqrt(2 / N) * c_m * Math.cos(Math.PI * m * (n + 0.5) / N));
                }

                ctx.strokeStyle = '#e0e0e0';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(padding, offsetY + plotHeight / 2);
                ctx.lineTo(width - padding, offsetY + plotHeight / 2);
                ctx.stroke();

                ctx.lineWidth = 2.5;
                ctx.beginPath();
                for (let n = 0; n < N; n++) {
                    const x = padding + (n / (N - 1)) * plotWidth;
                    const y = offsetY + plotHeight / 2 - basis[n] * (plotHeight / 2) * 0.85;
                    
                    ctx.strokeStyle = basis[n] >= 0 ? positiveColor : negativeColor;
                    
                    if (n === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                        ctx.stroke();
                        ctx.beginPath();
                        ctx.moveTo(x, y);
                    }
                }
                ctx.stroke();

                ctx.fillStyle = '#5a67d8';
                ctx.font = 'bold 15px Arial';
                ctx.fillText('m = ' + m, 10, offsetY + plotHeight / 2 + 5);
                
                ctx.fillStyle = '#666';
                ctx.font = '11px Arial';
                const freqText = m === 0 ? 'DC' : (m === 1 ? 'ä½é¢‘' : (m >= 6 ? 'é«˜é¢‘' : 'ä¸­é¢‘'));
                ctx.fillText(freqText, width - 50, offsetY + plotHeight / 2 + 5);
            }
        }

        // ========== èƒ½é‡é›†ä¸­å±•ç¤º ==========
        function drawEnergyConcentration() {
            const canvas = document.getElementById('energyConcentrationCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const N = 64;

            const signal = [];
            for (let n = 0; n < N; n++) {
                signal.push(
                    Math.sin(2 * Math.PI * 2 * n / N) + 
                    0.5 * Math.sin(2 * Math.PI * 5 * n / N) + 
                    0.2 * Math.sin(2 * Math.PI * 10 * n / N)
                );
            }

            const X = [];
            for (let m = 0; m < N; m++) {
                let sum = 0;
                const c = (m === 0) ? 1 / Math.sqrt(2) : 1;
                for (let n = 0; n < N; n++) {
                    sum += signal[n] * Math.cos(Math.PI * m * (n + 0.5) / N);
                }
                X.push(Math.sqrt(2 / N) * c * sum);
            }

            const halfW = width / 2;
            
            // æ—¶åŸŸ - ä½¿ç”¨ç´«è“è‰²
            drawPlot(ctx, signal, 0, 0, halfW, height, 'æ—¶åŸŸä¿¡å·', '#667eea');
            // é¢‘åŸŸ - ä½¿ç”¨ç»¿è‰²
            drawStemPlot(ctx, X, halfW, 0, halfW, height, 'DCTç³»æ•°', '#48bb78');
        }

        function drawPlot(ctx, data, offsetX, offsetY, w, h, title, color) {
            const padding = 40;
            const plotW = w - 2 * padding;
            const plotH = h - 2 * padding;
            const N = data.length;

            ctx.fillStyle = '#5a67d8';
            ctx.font = 'bold 14px Arial';
            ctx.fillText(title, offsetX + w / 2 - ctx.measureText(title).width / 2, offsetY + 25);

            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(offsetX + padding, offsetY + padding + 10);
            ctx.lineTo(offsetX + padding, offsetY + h - padding);
            ctx.lineTo(offsetX + w - padding, offsetY + h - padding);
            ctx.stroke();

            const maxVal = Math.max(...data.map(Math.abs));
            ctx.strokeStyle = color;
            ctx.lineWidth = 2.5;
            ctx.beginPath();
            for (let i = 0; i < N; i++) {
                const x = offsetX + padding + (i / (N - 1)) * plotW;
                const y = offsetY + h - padding - (data[i] / maxVal + 1) * (plotH / 2) * 0.85;
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();

            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            const centerY = offsetY + h / 2;
            ctx.moveTo(offsetX + padding, centerY);
            ctx.lineTo(offsetX + w - padding, centerY);
            ctx.stroke();
        }

        function drawStemPlot(ctx, data, offsetX, offsetY, w, h, title, color) {
            const padding = 40;
            const plotW = w - 2 * padding;
            const plotH = h - 2 * padding;
            const N = data.length;

            ctx.fillStyle = '#5a67d8';
            ctx.font = 'bold 14px Arial';
            ctx.fillText(title, offsetX + w / 2 - ctx.measureText(title).width / 2, offsetY + 25);

            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(offsetX + padding, offsetY + padding + 10);
            ctx.lineTo(offsetX + padding, offsetY + h - padding);
            ctx.lineTo(offsetX + w - padding, offsetY + h - padding);
            ctx.stroke();

            const maxVal = Math.max(...data.map(Math.abs));
            const centerY = offsetY + h / 2;
            
            for (let i = 0; i < N; i++) {
                const x = offsetX + padding + (i / (N - 1)) * plotW;
                const y = centerY - (data[i] / maxVal) * (plotH / 2) * 0.85;

                ctx.strokeStyle = color;
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(x, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();

                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.arc(x, y, 3, 0, 2 * Math.PI);
                ctx.fill();
            }

            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(offsetX + padding, centerY);
            ctx.lineTo(offsetX + w - padding, centerY);
            ctx.stroke();
        }

        // ========== åˆ†æ®µå¯è§†åŒ– ==========
        function drawWindowing() {
            const canvas = document.getElementById('windowingCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const padding = 40;

            ctx.clearRect(0, 0, width, height);

            const N = 180;
            const signal = [];
            for (let n = 0; n < N; n++) {
                signal.push(Math.sin(2 * Math.PI * 3 * n / N) + 0.5 * Math.cos(2 * Math.PI * 7 * n / N));
            }

            const plotW = width - 2 * padding;
            const plotH = height - 2 * padding;
            const maxVal = Math.max(...signal.map(Math.abs));

            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.stroke();

            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 2.5;
            ctx.beginPath();
            for (let i = 0; i < N; i++) {
                const x = padding + (i / (N - 1)) * plotW;
                const y = height - padding - (signal[i] / maxVal + 1) * (plotH / 2) * 0.85;
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();

            const windowSize = 45;
            const numSegments = Math.floor(N / windowSize);
            // ä½¿ç”¨è‰²ç›²å‹å¥½çš„é…è‰²
            const colors = ['#f56565', '#ed8936', '#48bb78', '#667eea'];
            
            for (let seg = 0; seg < numSegments; seg++) {
                const startX = padding + (seg * windowSize / (N - 1)) * plotW;

                ctx.strokeStyle = colors[seg % colors.length];
                ctx.lineWidth = 2;
                ctx.setLineDash([8, 4]);
                ctx.beginPath();
                ctx.moveTo(startX, padding);
                ctx.lineTo(startX, height - padding);
                ctx.stroke();

                if (seg < numSegments) {
                    const endX = padding + ((seg + 1) * windowSize / (N - 1)) * plotW;
                    ctx.fillStyle = colors[seg % colors.length];
                    ctx.font = 'bold 12px Arial';
                    const label = 'ç‰‡æ®µ' + (seg + 1);
                    const labelWidth = ctx.measureText(label).width;
                    ctx.fillText(label, (startX + endX) / 2 - labelWidth / 2, height - 10);
                }
            }

            ctx.setLineDash([]);
        }

        // ========== é˜ˆå€¼å¤„ç†å¯è§†åŒ– ==========
        function drawThresholding() {
            const canvas = document.getElementById('thresholdingCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const N = 50;

            ctx.clearRect(0, 0, width, height);

            const X = [];
            for (let i = 0; i < N; i++) {
                X.push(10 * Math.exp(-i / 10) * (1 + 0.3 * Math.random()));
            }

            const totalEnergy = X.reduce((sum, val) => sum + val * val, 0);
            const sortedX = [...X].map((val, idx) => ({val: Math.abs(val), idx}))
                                   .sort((a, b) => b.val - a.val);
            let cumEnergy = 0;
            let threshold = 0;
            const perc = 0.95;
            for (let i = 0; i < N; i++) {
                cumEnergy += sortedX[i].val * sortedX[i].val;
                if (cumEnergy >= perc * totalEnergy) {
                    threshold = sortedX[i].val;
                    break;
                }
            }

            const halfW = width / 2;
            drawStemPlotWithThreshold(ctx, X, 0, 0, halfW, height, 'åŸå§‹DCTç³»æ•°', '#667eea', -1);
            const X_thresh = X.map(val => Math.abs(val) >= threshold ? val : 0);
            drawStemPlotWithThreshold(ctx, X_thresh, halfW, 0, halfW, height, 'é˜ˆå€¼åŒ–å', '#48bb78', threshold);
        }

        function drawStemPlotWithThreshold(ctx, data, offsetX, offsetY, w, h, title, color, threshold) {
            const padding = 40;
            const plotW = w - 2 * padding;
            const plotH = h - 2 * padding;
            const N = data.length;

            ctx.fillStyle = '#5a67d8';
            ctx.font = 'bold 14px Arial';
            const titleWidth = ctx.measureText(title).width;
            ctx.fillText(title, offsetX + w / 2 - titleWidth / 2, offsetY + 25);

            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(offsetX + padding, offsetY + padding + 15);
            ctx.lineTo(offsetX + padding, offsetY + h - padding);
            ctx.lineTo(offsetX + w - padding, offsetY + h - padding);
            ctx.stroke();

            const maxVal = Math.max(...data.map(Math.abs));
            const centerY = offsetY + h - padding;
            
            for (let i = 0; i < N; i++) {
                const x = offsetX + padding + (i / (N - 1)) * plotW;
                const y = centerY - Math.abs(data[i]) / maxVal * (plotH * 0.85);

                const isZero = Math.abs(data[i]) < 0.001;
                const stemColor = isZero ? '#d0d0d0' : color;

                ctx.strokeStyle = stemColor;
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(x, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();

                ctx.fillStyle = stemColor;
                ctx.beginPath();
                ctx.arc(x, y, 2.5, 0, 2 * Math.PI);
                ctx.fill();
            }

            if (threshold > 0) {
                const threshY = centerY - threshold / maxVal * (plotH * 0.85);
                ctx.strokeStyle = '#f56565';
                ctx.lineWidth = 2.5;
                ctx.setLineDash([8, 4]);
                ctx.beginPath();
                ctx.moveTo(offsetX + padding, threshY);
                ctx.lineTo(offsetX + w - padding, threshY);
                ctx.stroke();
                ctx.setLineDash([]);

                ctx.fillStyle = '#f56565';
                ctx.font = 'bold 12px Arial';
                ctx.fillText('é˜ˆå€¼', offsetX + w - padding - 35, threshY - 8);
            }
        }

        // ========== é‡åŒ–å¯è§†åŒ– - åˆå§‹åŒ–ç¦»æ•£çº§åˆ« ==========
        function initQuantizationDemo() {
            const container = document.getElementById('quantLevels');
            if (!container) return;

            for (let i = 0; i <= 7; i++) {
                const box = document.createElement('div');
                box.className = 'level-box';
                box.textContent = i;
                if (i === 4) {
                    box.classList.add('active');
                }
                container.appendChild(box);
            }
        }

        // ========== æ”¹è¿›çš„é‡åŒ–å¯¹æ¯”å›¾ ==========
        function drawQuantizationComparison() {
            // 2ä½é‡åŒ–
            const canvas2bit = document.getElementById('quantization2bitCanvas');
            if (canvas2bit) {
                drawQuantizationVisualization(canvas2bit, 2);
            }
            
            // 8ä½é‡åŒ–
            const canvas8bit = document.getElementById('quantization8bitCanvas');
            if (canvas8bit) {
                drawQuantizationVisualization(canvas8bit, 8);
            }
        }

        function drawQuantizationVisualization(canvas, bits) {
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);

            const levels = Math.pow(2, bits);
            const halfLevels = levels / 2;
            
            // ä½¿ç”¨æ¸å˜è‰²è¡¨ç¤ºä¸åŒçº§åˆ«
            const colors = generateColorGradient(levels);
            
            // ç»˜åˆ¶é˜¶æ¢¯çŠ¶é‡åŒ–çº§åˆ«
            const stepHeight = height / levels;
            
            for (let i = 0; i < levels; i++) {
                const y = height - (i + 1) * stepHeight;
                const levelValue = i - halfLevels;
                
                ctx.fillStyle = colors[i];
                ctx.fillRect(0, y, width, stepHeight);
                
                // ç»˜åˆ¶è¾¹ç•Œçº¿
                ctx.strokeStyle = 'rgba(0,0,0,0.15)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
                
                // æ”¹è¿›æ ‡ç­¾æ˜¾ç¤º
                if (bits === 2) {
                    // 2ä½ï¼šæ˜¾ç¤ºæ‰€æœ‰4ä¸ªçº§åˆ«ï¼Œä½¿ç”¨æ›´å¤§çš„å­—ä½“å’Œæ›´æ¸…æ™°çš„é¢œè‰²
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
                    ctx.font = 'bold 16px Arial';
                    const label = 'çº§åˆ« ' + levelValue;
                    const textWidth = ctx.measureText(label).width;
                    ctx.fillText(label, (width - textWidth) / 2, y + stepHeight / 2 + 6);
                } else if (bits === 8) {
                    // 8ä½ï¼šåªåœ¨é¡¶éƒ¨ã€ä¸­éƒ¨ã€åº•éƒ¨æ˜¾ç¤ºæ ‡ç­¾ï¼Œä½¿ç”¨æ›´å¤§å­—ä½“å’Œç™½è‰²æè¾¹
                    if (i === 0 || i === Math.floor(levels/2) || i === levels - 1) {
                        // æ·»åŠ ç™½è‰²æè¾¹æ•ˆæœï¼Œä½¿æ–‡å­—æ›´æ¸…æ™°
                        ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';
                        ctx.lineWidth = 3;
                        ctx.font = 'bold 14px Arial';
                        ctx.strokeText(levelValue, 10, y + 12);
                        
                        ctx.fillStyle = 'rgba(0, 0, 0, 0.9)';
                        ctx.fillText(levelValue, 10, y + 12);
                    }
                }
            }
            
            // ç»Ÿä¸€é£æ ¼çš„å³ä¾§è¯´æ˜æ–‡å­—ï¼ˆä½¿ç”¨æ·±ç°è‰²ï¼Œå¸¦ç™½è‰²æè¾¹ï¼‰
            const annotationColor = '#2d3748';
            const rightMargin = 110; // ç»Ÿä¸€å³è¾¹è·
            const startY = 35; // ç»Ÿä¸€èµ·å§‹Yåæ ‡
            const lineHeight = 24; // ç»Ÿä¸€è¡Œé«˜
            
            if (bits === 2) {
                // æ·»åŠ ç™½è‰²æè¾¹ï¼Œä½¿æ–‡å­—æ›´æ¸…æ™°
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.9)';
                ctx.lineWidth = 3;
                ctx.font = 'bold 15px Arial';
                ctx.strokeText('å…± 4 ä¸ªçº§åˆ«', width - rightMargin, startY);
                ctx.strokeText('æ­¥é•¿å¤§', width - rightMargin, startY + lineHeight);
                ctx.strokeText('è¯¯å·®ï¼šÂ±0.67', width - rightMargin, startY + lineHeight * 2);
                
                ctx.fillStyle = annotationColor;
                ctx.fillText('å…± 4 ä¸ªçº§åˆ«', width - rightMargin, startY);
                ctx.fillText('æ­¥é•¿å¤§', width - rightMargin, startY + lineHeight);
                ctx.fillText('è¯¯å·®ï¼šÂ±0.67', width - rightMargin, startY + lineHeight * 2);
            } else {
                // æ·»åŠ ç™½è‰²æè¾¹ï¼Œä½¿æ–‡å­—æ›´æ¸…æ™°
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.9)';
                ctx.lineWidth = 3;
                ctx.font = 'bold 15px Arial';
                ctx.strokeText('å…± 256 çº§', width - rightMargin, startY);
                ctx.strokeText('æ­¥é•¿æå°', width - rightMargin, startY + lineHeight);
                ctx.strokeText('è¯¯å·®ï¼šÂ±0.004', width - rightMargin, startY + lineHeight * 2);
                
                ctx.fillStyle = annotationColor;
                ctx.fillText('å…± 256 çº§', width - rightMargin, startY);
                ctx.fillText('æ­¥é•¿æå°', width - rightMargin, startY + lineHeight);
                ctx.fillText('è¯¯å·®ï¼šÂ±0.004', width - rightMargin, startY + lineHeight * 2);
            }
        }

        function generateColorGradient(steps) {
            const colors = [];
            for (let i = 0; i < steps; i++) {
                const ratio = i / (steps - 1);
                // ä»è“è‰²åˆ°ç´«è‰²çš„æ¸å˜
                const r = Math.round(102 + ratio * 116);  // 102 -> 118
                const g = Math.round(126 - ratio * 26);   // 126 -> 100
                const b = Math.round(234 - ratio * 72);   // 234 -> 162
                colors.push(`rgb(${r}, ${g}, ${b})`);
            }
            return colors;
        }

        // ========== äº¤äº’å¼æ¼”ç¤º ==========
        const energySlider = document.getElementById('energySlider');
        const bitsSlider = document.getElementById('bitsSlider');
        const energyValue = document.getElementById('energyValue');
        const bitsValue = document.getElementById('bitsValue');
        const coeffCount = document.getElementById('coeffCount');
        const compressionRatio = document.getElementById('compressionRatio');
        const mseValue = document.getElementById('mseValue');
        const signalCanvas = document.getElementById('signalCanvas');
        const coeffCanvas = document.getElementById('coeffCanvas');

        if (signalCanvas && coeffCanvas) {
            const signalCtx = signalCanvas.getContext('2d');
            const coeffCtx = coeffCanvas.getContext('2d');

            const N = 100;
            let originalSignal = new Array(N);
            for (let i = 0; i < N; i++) {
                originalSignal[i] = 50 * Math.sin(2 * Math.PI * i / 40) +
                                    20 * Math.cos(2 * Math.PI * i / 20) +
                                    10 * Math.sin(2 * Math.PI * i / 10) +
                                    0.5 * i;
            }

            function dct(signal) {
                const N = signal.length;
                const X = new Array(N);
                for (let m = 0; m < N; m++) {
                    let sum = 0;
                    for (let n = 0; n < N; n++) {
                        sum += signal[n] * Math.cos(Math.PI * m * (n + 0.5) / N);
                    }
                    const c = (m === 0) ? 1 / Math.sqrt(2) : 1;
                    X[m] = Math.sqrt(2 / N) * c * sum;
                }
                return X;
            }

            function idct(X) {
                const N = X.length;
                const signal = new Array(N);
                for (let n = 0; n < N; n++) {
                    let sum = 0;
                    for (let m = 0; m < N; m++) {
                        const c = (m === 0) ? 1 / Math.sqrt(2) : 1;
                        sum += c * X[m] * Math.cos(Math.PI * m * (n + 0.5) / N);
                    }
                    signal[n] = Math.sqrt(2 / N) * sum;
                }
                return signal;
            }

            function quantize(value, L, b) {
                const levels = Math.pow(2, b - 1) - 1;
                const sign = value >= 0 ? 1 : -1;
                const quantized = sign * Math.floor(Math.abs(value) / L * levels + 0.5);
                return quantized;
            }

            function dequantize(value, L, b) {
                const levels = Math.pow(2, b - 1) - 1;
                const sign = value >= 0 ? 1 : -1;
                return sign * Math.abs(value) / levels * L;
            }

            function drawSignalComparison(original, reconstructed) {
                const width = signalCanvas.width;
                const height = signalCanvas.height;
                const padding = 40;

                signalCtx.clearRect(0, 0, width, height);

                signalCtx.strokeStyle = '#333';
                signalCtx.lineWidth = 2;
                signalCtx.beginPath();
                signalCtx.moveTo(padding, padding);
                signalCtx.lineTo(padding, height - padding);
                signalCtx.lineTo(width - padding, height - padding);
                signalCtx.stroke();

                const xScale = (width - 2 * padding) / N;
                const yMin = Math.min(...original, ...reconstructed);
                const yMax = Math.max(...original, ...reconstructed);
                const yRange = yMax - yMin;
                const yScale = (height - 2 * padding) / yRange;

                // åŸå§‹ä¿¡å· - ç´«è“è‰²
                signalCtx.strokeStyle = '#667eea';
                signalCtx.lineWidth = 2.5;
                signalCtx.beginPath();
                for (let i = 0; i < N; i++) {
                    const x = padding + i * xScale;
                    const y = height - padding - (original[i] - yMin) * yScale;
                    if (i === 0) {
                        signalCtx.moveTo(x, y);
                    } else {
                        signalCtx.lineTo(x, y);
                    }
                }
                signalCtx.stroke();

                // é‡å»ºä¿¡å· - çº¢è‰²
                signalCtx.strokeStyle = '#f56565';
                signalCtx.lineWidth = 2.5;
                signalCtx.setLineDash([6, 3]);
                signalCtx.beginPath();
                for (let i = 0; i < N; i++) {
                    const x = padding + i * xScale;
                    const y = height - padding - (reconstructed[i] - yMin) * yScale;
                    if (i === 0) {
                        signalCtx.moveTo(x, y);
                    } else {
                        signalCtx.lineTo(x, y);
                    }
                }
                signalCtx.stroke();
                signalCtx.setLineDash([]);
            }

            function drawCoefficients(X, kept) {
                const width = coeffCanvas.width;
                const height = coeffCanvas.height;
                const padding = 40;

                coeffCtx.clearRect(0, 0, width, height);

                coeffCtx.strokeStyle = '#333';
                coeffCtx.lineWidth = 2;
                coeffCtx.beginPath();
                coeffCtx.moveTo(padding, padding);
                coeffCtx.lineTo(padding, height - padding);
                coeffCtx.lineTo(width - padding, height - padding);
                coeffCtx.stroke();

                const xScale = (width - 2 * padding) / N;
                const maxCoeff = Math.max(...X.map(Math.abs));
                const yScale = (height - 2 * padding) / (maxCoeff * 1.1);
                const centerY = height / 2;

                for (let i = 0; i < N; i++) {
                    const x = padding + i * xScale;
                    const y = centerY - X[i] * yScale;
                    const isKept = kept[i];

                    // ä¿ç•™çš„ç³»æ•°ç”¨ç»¿è‰²ï¼Œä¸¢å¼ƒçš„ç”¨ç°è‰²
                    coeffCtx.strokeStyle = isKept ? '#48bb78' : '#d0d0d0';
                    coeffCtx.fillStyle = isKept ? '#48bb78' : '#d0d0d0';
                    coeffCtx.lineWidth = 2;

                    coeffCtx.beginPath();
                    coeffCtx.moveTo(x, centerY);
                    coeffCtx.lineTo(x, y);
                    coeffCtx.stroke();

                    coeffCtx.beginPath();
                    coeffCtx.arc(x, y, 2.5, 0, 2 * Math.PI);
                    coeffCtx.fill();
                }

                coeffCtx.strokeStyle = '#ddd';
                coeffCtx.lineWidth = 1;
                coeffCtx.beginPath();
                coeffCtx.moveTo(padding, centerY);
                coeffCtx.lineTo(width - padding, centerY);
                coeffCtx.stroke();
            }

            function updateDemo() {
                const energyThreshold = parseFloat(energySlider.value) / 100;
                const bits = parseInt(bitsSlider.value);

                energyValue.textContent = energySlider.value;
                bitsValue.textContent = bits;

                const X = dct(originalSignal);

                const absX = X.map(Math.abs);
                const sortedIndices = Array.from({length: N}, (_, i) => i)
                    .sort((a, b) => absX[b] - absX[a]);

                let totalEnergy = 0;
                for (let i = 0; i < N; i++) {
                    totalEnergy += X[i] * X[i];
                }

                let cumulativeEnergy = 0;
                let needed = 0;
                for (let i = 0; i < N; i++) {
                    const idx = sortedIndices[i];
                    cumulativeEnergy += X[idx] * X[idx];
                    if (cumulativeEnergy / totalEnergy >= energyThreshold) {
                        needed = i + 1;
                        break;
                    }
                }

                const X_threshold = new Array(N).fill(0);
                const kept = new Array(N).fill(false);
                for (let i = 0; i < needed; i++) {
                    const idx = sortedIndices[i];
                    X_threshold[idx] = X[idx];
                    kept[idx] = true;
                }

                const L = Math.max(...X_threshold.map(Math.abs));
                const X_quantized = X_threshold.map(x => {
                    if (x === 0) return 0;
                    const q = quantize(x, L, bits);
                    return dequantize(q, L, bits);
                });

                const reconstructed = idct(X_quantized);

                let mse = 0;
                for (let i = 0; i < N; i++) {
                    const diff = originalSignal[i] - reconstructed[i];
                    mse += diff * diff;
                }
                mse /= N;

                const originalBits = N * 16;
                const compressedBits = needed * bits;
                const ratio = (originalBits / compressedBits).toFixed(2);

                coeffCount.textContent = needed;
                compressionRatio.textContent = ratio + ':1';
                mseValue.textContent = mse.toFixed(4);

                drawSignalComparison(originalSignal, reconstructed);
                drawCoefficients(X, kept);
            }

            if (energySlider && bitsSlider) {
                energySlider.addEventListener('input', updateDemo);
                bitsSlider.addEventListener('input', updateDemo);
                updateDemo();
            }
        }

        // ========== é¡µé¢åŠ è½½åˆå§‹åŒ– ==========
        window.addEventListener('load', function() {
            initVerticalProgress();
            drawDCTBasis();
            drawEnergyConcentration();
            drawWindowing();
            drawThresholding();
            initQuantizationDemo();
            drawQuantizationComparison();
        });
    </script>
</body>
</html>